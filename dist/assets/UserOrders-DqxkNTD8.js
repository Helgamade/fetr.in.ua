import{j as e}from"./chunk-react-CHUe_c_M.js";import{h,o as p,n as j}from"./index-Dv87KhRC.js";import{u as f}from"./chunk-query-BDB5idE8.js";import{C as d,d as o,a as b,b as v,c as N}from"./card-DcmemaXX.js";import{B as n}from"./button-Dirq6-S7.js";import{B as g}from"./badge-CTncAuPo.js";import{a8 as y,aI as C,aJ as w,b0 as k,ak as A}from"./chunk-vendor-C_GYGcpd.js";import{b as F}from"./chunk-router-BMV24Bow.js";import"./chunk-lottie-DoMt_38f.js";import"./chunk-radix-BYx9rzOz.js";const I={created:{label:"Замовлення оформлено",variant:"default"},accepted:{label:"Прийнято",variant:"secondary"},paid:{label:"Оплачено",variant:"success"},packed:{label:"Спаковано",variant:"secondary"},shipped:{label:"Відправлено",variant:"default"},arrived:{label:"Прибуло",variant:"default"},completed:{label:"Залишити відгук",variant:"success"},processing:{label:"В обробці",variant:"secondary"},assembled:{label:"Зібрано",variant:"secondary"},in_transit:{label:"В дорозі",variant:"default"}};function $(){const{user:a}=h(),t=F(),{data:i,isLoading:m}=f({queryKey:["user-orders",a==null?void 0:a.id],queryFn:async()=>{const s=await p.getAll();return(a==null?void 0:a.role)==="admin"?s:s.filter(r=>r.user_id===(a==null?void 0:a.id))},enabled:!!a});return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30",children:e.jsx(y,{className:"h-12 w-12 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsx("title",{children:"Мої замовлення | FetrInUA"}),e.jsx("meta",{property:"og:title",content:"Мої замовлення | FetrInUA"})]}),e.jsx("div",{className:"min-h-screen bg-muted/30",children:e.jsxs("div",{className:"container max-w-7xl mx-auto space-y-6 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Мої замовлення"}),e.jsx(n,{variant:"outline",onClick:()=>t("/user/profile"),children:"До профілю"})]}),!i||i.length===0?e.jsx(d,{children:e.jsxs(o,{className:"py-12 text-center",children:[e.jsx(w,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"У вас поки немає замовлень"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Почніть покупки, щоб побачити свої замовлення тут"}),e.jsx(n,{onClick:()=>t("/"),children:"Перейти до магазину"})]})}):e.jsx("div",{className:"space-y-4",children:i.map(s=>{var c;const r=I[s.status]||{label:s.status,variant:"default"},x=new Date(s.createdAt);return e.jsxs(d,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t(`/user/orders/${s.id}`),children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(v,{className:"text-lg",children:["Замовлення №",s.orderNumber||s.id]}),e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),x.toLocaleDateString("uk-UA",{day:"numeric",month:"long",year:"numeric"})]})]}),e.jsx(g,{variant:r.variant,children:r.label})]})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Сума"}),e.jsxs("p",{className:"font-semibold text-lg",children:[j(s.total)," ₴"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Товарів"}),e.jsx("p",{className:"font-semibold",children:((c=s.items)==null?void 0:c.reduce((l,u)=>l+u.quantity,0))||0})]})]}),e.jsxs(n,{variant:"outline",className:"w-full",onClick:l=>{l.stopPropagation(),t(`/user/orders/${s.id}`)},children:["Деталі замовлення",e.jsx(A,{className:"ml-2 h-4 w-4"})]})]})})]},s.id)})}),e.jsx("div",{className:"border-t border-border my-8"}),e.jsxs("footer",{className:"text-center space-y-2 pb-8",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"© 2026 FetrInUA. Всі права захищені"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Зроблено з ❤️ в Україні"})]})]})})]})}export{$ as default};
