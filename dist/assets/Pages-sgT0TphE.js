import{j as e}from"./chunk-lottie-CUWK48HK.js";import{r as p}from"./chunk-charts-BaLkbnPn.js";import{b as N,c as v}from"./usePages-h_Sve19-.js";import{C as i,a as g,b as y,c as C,d as l}from"./card-h9g9btA3.js";import{I as w}from"./input-BXjeagyi.js";import{B as n}from"./button-BuHmTTJ8.js";import{q as b,z as P}from"./index-DwSsCT8I.js";import{B as d}from"./badge-DttN0hOU.js";import{P as L,T as E}from"./trash-2-D0wIndvy.js";import{S}from"./search-pfDQMZkR.js";import{E as _}from"./eye-fQAQrXA5.js";import{E as k}from"./eye-off-CvO22ItV.js";import{S as T}from"./square-pen-vDqwFWzx.js";function F(){const a=b(),{toast:c}=P(),{data:m=[],isLoading:x}=N(),u=v(),[r,h]=p.useState(""),o=m.filter(s=>{if(!r.trim())return!0;const t=r.toLowerCase();return s.title.toLowerCase().includes(t)||s.slug.toLowerCase().includes(t)||s.meta_title&&s.meta_title.toLowerCase().includes(t)||s.meta_description&&s.meta_description.toLowerCase().includes(t)}),j=async(s,t)=>{if(t.stopPropagation(),!!confirm(`Ви впевнені, що хочете видалити сторінку "${s.title}"?`))try{await u.mutateAsync(s.id),c({title:"Видалено",description:"Сторінку успішно видалено"})}catch(f){c({title:"Помилка",description:f.message||"Не вдалося видалити сторінку",variant:"destructive"})}};return x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Завантаження сторінок..."})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(i,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Управління сторінками"}),e.jsx(C,{children:"Створюйте та редагуйте індивідуальні сторінки сайту з унікальними URL та SEO мета-тегами"})]}),e.jsxs(n,{onClick:()=>a("/admin/pages/new"),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Додати сторінку"]})]})}),e.jsxs(l,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(w,{placeholder:"Пошук по назві, URL, мета-тегах...",value:r,onChange:s=>h(s.target.value),className:"pl-9"})]})}),e.jsx("div",{className:"space-y-4",children:o.length>0?o.map(s=>e.jsx(i,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>a(`/admin/pages/${s.id}`),children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.title}),s.is_published?e.jsxs(d,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(_,{className:"h-3 w-3 mr-1"}),"Опубліковано"]}):e.jsxs(d,{variant:"secondary",children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),"Чернетка"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["URL: ",e.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:["/",s.slug]})]}),s.meta_title&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Meta Title: ",s.meta_title]})]}),e.jsxs("div",{className:"flex gap-2",onClick:t=>t.stopPropagation(),children:[e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>a(`/admin/pages/${s.id}`),children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Редагувати"]}),e.jsx(n,{variant:"ghost",size:"sm",onClick:t=>j(s,t),className:"text-destructive hover:text-destructive",children:e.jsx(E,{className:"h-4 w-4"})})]})]})})},s.id)):e.jsx(i,{children:e.jsx(l,{className:"py-12 text-center text-muted-foreground",children:r?"Сторінок не знайдено":"Немає сторінок. Створіть першу сторінку."})})})]})]})})}export{F as Pages};
