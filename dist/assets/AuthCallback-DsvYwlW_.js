import{j as s}from"./chunk-lottie-CUWK48HK.js";import{r as i}from"./chunk-charts-BaLkbnPn.js";import{B as m,f as u,F as d,E as f}from"./index-BwFT16rW.js";function k(){const[r]=m(),e=u(),{login:o}=d();return i.useEffect(()=>{(async()=>{try{const t=r.get("access_token"),n=r.get("refresh_token"),c=r.get("user"),a=r.get("error");if(a){console.error("[Auth Callback] Error:",a),e("/login?error="+a);return}if(t&&n&&c){const l=JSON.parse(decodeURIComponent(c));o(t,n,l),l.role,e("/")}else e("/login?error=missing_data")}catch(t){console.error("[Auth Callback] Processing error:",t),e("/login?error=processing_failed")}})()},[r,e,o]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(f,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),s.jsx("h2",{className:"text-2xl font-semibold",children:"Авторизація..."}),s.jsx("p",{className:"text-muted-foreground",children:"Зачекайте, будь ласка"})]})})}export{k as default};
