import{j as e}from"./chunk-lottie-CUWK48HK.js";import{F as h,f as j,i as p,z as f,E as v,H as b,O as N}from"./index-CQjxzLuX.js";import{C as d,d as m,a as g,b as y,c as C}from"./card-DLPONuhv.js";import{B as n}from"./button-C-zFmga_.js";import{B as w}from"./badge-Cn6qEwSM.js";import{P as A}from"./package-Bs1UgwTW.js";import{C as k}from"./calendar-BXyr7gU9.js";import{C as F}from"./chevron-right-CoDwIBpD.js";import"./chunk-charts-BaLkbnPn.js";const P={created:{label:"Замовлення оформлено",variant:"default"},accepted:{label:"Прийнято",variant:"secondary"},paid:{label:"Оплачено",variant:"success"},packed:{label:"Спаковано",variant:"secondary"},shipped:{label:"Відправлено",variant:"default"},arrived:{label:"Прибуло",variant:"default"},completed:{label:"Залишити відгук",variant:"success"},processing:{label:"В обробці",variant:"secondary"},assembled:{label:"Зібрано",variant:"secondary"},in_transit:{label:"В дорозі",variant:"default"}};function R(){const{user:a}=h(),t=j(),{data:i,isLoading:o}=p({queryKey:["user-orders",a==null?void 0:a.id],queryFn:async()=>{const s=await f.getAll();return(a==null?void 0:a.role)==="admin"?s:s.filter(r=>r.user_id===(a==null?void 0:a.id))},enabled:!!a});return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30",children:e.jsx(v,{className:"h-12 w-12 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsxs(b,{children:[e.jsx("title",{children:"Мої замовлення | FetrInUA"}),e.jsx("meta",{property:"og:title",content:"Мої замовлення | FetrInUA"})]}),e.jsx("div",{className:"min-h-screen bg-muted/30",children:e.jsxs("div",{className:"container max-w-7xl mx-auto space-y-6 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Мої замовлення"}),e.jsx(n,{variant:"outline",onClick:()=>t("/user/profile"),children:"До профілю"})]}),!i||i.length===0?e.jsx(d,{children:e.jsxs(m,{className:"py-12 text-center",children:[e.jsx(A,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"У вас поки немає замовлень"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Почніть покупки, щоб побачити свої замовлення тут"}),e.jsx(n,{onClick:()=>t("/"),children:"Перейти до магазину"})]})}):e.jsx("div",{className:"space-y-4",children:i.map(s=>{var c;const r=P[s.status]||{label:s.status,variant:"default"},x=new Date(s.createdAt);return e.jsxs(d,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t(`/user/orders/${s.id}`),children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(y,{className:"text-lg",children:["Замовлення №",s.orderNumber||s.id]}),e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4"}),x.toLocaleDateString("uk-UA",{day:"numeric",month:"long",year:"numeric"})]})]}),e.jsx(w,{variant:r.variant,children:r.label})]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Сума"}),e.jsxs("p",{className:"font-semibold text-lg",children:[N(s.total)," ₴"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Товарів"}),e.jsx("p",{className:"font-semibold",children:((c=s.items)==null?void 0:c.reduce((l,u)=>l+u.quantity,0))||0})]})]}),e.jsxs(n,{variant:"outline",className:"w-full",onClick:l=>{l.stopPropagation(),t(`/user/orders/${s.id}`)},children:["Деталі замовлення",e.jsx(F,{className:"ml-2 h-4 w-4"})]})]})})]},s.id)})}),e.jsx("div",{className:"border-t border-border my-8"}),e.jsxs("footer",{className:"text-center space-y-2 pb-8",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"© 2026 FetrInUA. Всі права захищені"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Зроблено з ❤️ в Україні"})]})]})})]})}export{R as default};
