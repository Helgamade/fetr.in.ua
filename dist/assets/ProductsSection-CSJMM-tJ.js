import{j as e}from"./chunk-lottie-CUWK48HK.js";import{r as a,R as Se}from"./chunk-charts-BaLkbnPn.js";import{B as P}from"./button-NrqM-Eov.js";import{C as K}from"./clock-B7_lEZq4.js";import{c as T,a as W,E as Z,F as B,b as S,t as G,X as Q,s as Me,u as Ie,q as Te,G as Ee}from"./index-CmBNacJt.js";import{u as H}from"./useTranslation-DP5hTKNf.js";import{E as V}from"./eye-CgjlZpH_.js";import{U as J}from"./users-C876MuaF.js";import{C as X}from"./chevron-right-w9lcqepm.js";import{S as ee}from"./StickyMobileCTA-B6Bu_TDT.js";import{C as Le}from"./checkbox-CNZ3cL3a.js";import{u as Pe}from"./useTexts-qap51a1G.js";import{C as se}from"./chevron-left-Duqmmb4o.js";import{C as De}from"./check-Ye3aN1dc.js";import{S as _e}from"./avatar-BKa3YIor.js";import{T as He}from"./truck-DexzBpDh.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ze=T("crown",Xe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Ye=T("flame",Fe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],$e=T("grid-3x3",Re);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Oe=T("refresh-cw",Ue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],te=T("sparkles",qe),ae=({endDate:s,className:n="",compact:c=!1})=>{const u=a.useMemo(()=>s,[s.getTime()]),[m,h]=a.useState({hours:0,minutes:0,seconds:0});a.useEffect(()=>{const o=()=>{const b=u.getTime()-new Date().getTime();b>0?h({hours:Math.floor(b/36e5%24),minutes:Math.floor(b/1e3/60%60),seconds:Math.floor(b/1e3%60)}):h({hours:0,minutes:0,seconds:0})};o();const f=setInterval(o,1e3);return()=>clearInterval(f)},[u]);const i=`${String(m.hours).padStart(2,"0")}:${String(m.minutes).padStart(2,"0")}:${String(m.seconds).padStart(2,"0")}`;return c?e.jsxs("div",{className:`flex items-center gap-1.5 text-sm ${n}`,children:[e.jsx(K,{className:"w-4 h-4 text-warning"}),e.jsxs("span",{className:"font-medium",children:["Знижка діє ще: ",i]})]}):e.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[e.jsx(K,{className:"w-5 h-5 text-warning"}),e.jsxs("span",{className:"font-medium",children:["Знижка діє ще: ",i]})]})},Ke=({product:s,onOpenModal:n})=>{const{t:c}=H("product"),{addToCart:u}=W(),[m,h]=a.useState(!1),i={hit:{icon:Ye,label:c("badge.hit"),className:"badge-hit"},recommended:{icon:te,label:c("badge.recommended"),className:"bg-secondary text-secondary-foreground text-xs font-semibold px-3 py-1 rounded-full"},limited:{icon:ze,label:c("badge.limited"),className:"badge-limited"}},[o,f]=a.useState(()=>parseInt(new Date().toLocaleString("en-US",{timeZone:"Europe/Kyiv",hour:"2-digit",hour12:!1})));a.useEffect(()=>{const p=()=>{const w=parseInt(new Date().toLocaleString("en-US",{timeZone:"Europe/Kyiv",hour:"2-digit",hour12:!1}));f(w)};p();const j=36e5-new Date().getTime()%36e5;let l=null;const d=setTimeout(()=>{p(),l=setInterval(p,36e5)},j);return()=>{clearTimeout(d),l&&clearInterval(l)}},[]);const b=a.useMemo(()=>Z(),[]),y=a.useMemo(()=>B(s.id,s.purchaseCount||0),[s.id,s.purchaseCount,o]),x=s.salePrice?Math.round((1-s.salePrice/s.basePrice)*100):0,g=p=>{p.stopPropagation(),u(s.code,[])},M=()=>{G({eventType:"product_view",eventCategory:"product",productId:s.id}),n(s)};return e.jsxs("div",{className:S("glass-card overflow-hidden transition-all duration-300 group",m&&"shadow-large -translate-y-2"),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[e.jsx("img",{src:s.images[0],alt:s.name,loading:"lazy",width:400,height:300,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),s.badge&&e.jsxs("div",{className:S("absolute top-4 left-4 flex items-center gap-1",i[s.badge].className),children:[Se.createElement(i[s.badge].icon,{className:"w-3 h-3"}),i[s.badge].label]}),x>0&&e.jsxs("div",{className:"absolute top-4 right-4 bg-primary text-primary-foreground px-3 py-1 rounded-full text-sm font-bold",children:["-",x,"%"]}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-card/90 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-medium",children:[e.jsx(V,{className:"w-3 h-3 text-primary animate-pulse"}),e.jsxs("span",{children:[y," переглядають"]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-card/90 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-medium",children:[e.jsx(J,{className:"w-3 h-3 text-sage-dark"}),e.jsxs("span",{children:[s.purchaseCount||0,"+ купили"]})]})]}),e.jsx("div",{className:S("absolute inset-0 bg-gradient-to-t from-foreground/60 to-transparent flex items-end justify-center pb-4 transition-opacity duration-300",m?"opacity-100":"opacity-0"),children:e.jsxs(P,{variant:"glass",onClick:M,children:["Детальніше",e.jsx(X,{className:"w-4 h-4"})]})})]}),e.jsxs("div",{className:"p-4 sm:p-5",children:[e.jsx("div",{className:"mb-3",children:e.jsx(ae,{endDate:b,compact:!0})}),e.jsx("h3",{className:"text-lg font-heading font-bold text-foreground mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:s.shortDescription}),e.jsxs("ul",{className:"mb-4 space-y-1",children:[s.features.slice(0,3).map((p,k)=>e.jsxs("li",{className:"text-sm text-foreground flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-1.5 flex-shrink-0"}),p]},k)),s.featuresExtraText&&e.jsx("li",{className:"text-sm text-primary font-medium",children:s.featuresExtraText})]}),e.jsx("div",{className:"flex items-baseline gap-2 mb-4",children:s.salePrice?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-2xl font-heading font-bold text-primary",children:[s.salePrice," ₴"]}),e.jsxs("span",{className:"text-lg text-muted-foreground line-through",children:[s.basePrice," ₴"]})]}):e.jsxs("span",{className:"text-2xl font-heading font-bold text-foreground",children:[s.basePrice," ₴"]})}),s.stock>0&&e.jsx("div",{className:"flex items-center gap-2 text-warning text-sm font-medium mb-4",children:e.jsxs("span",{children:["Залишилось ",s.stock," шт"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(P,{variant:"hero",className:"flex-1",onClick:g,children:[e.jsx(ee,{className:"w-4 h-4"}),"Купити"]}),e.jsx(P,{variant:"outline",onClick:M,children:"Детальніше"})]})]})]})},I=({icon:s,className:n})=>s?s.trim().startsWith("<svg")?e.jsx("div",{className:S("w-4 h-4 text-primary flex-shrink-0 [&_svg]:w-full [&_svg]:h-full [&_svg]:text-current [&_svg]:stroke-current",n),dangerouslySetInnerHTML:{__html:s}}):s.startsWith("http")||s.startsWith("/")||s.startsWith("./")?e.jsx("img",{src:s,alt:"",className:S("w-4 h-4 object-contain flex-shrink-0",n),onError:c=>{c.target.style.display="none"}}):null:null,A=({isOpen:s,images:n,initialIndex:c=0,onClose:u,zIndex:m=50})=>{const[h,i]=a.useState(c),[o,f]=a.useState(null),b=a.useRef(null),y=50;a.useEffect(()=>{s&&c>=0&&c<n.length&&i(c)},[s,c,n.length]);const x=a.useCallback(()=>{i(l=>(l+1)%n.length)},[n.length]),g=a.useCallback(()=>{i(l=>(l-1+n.length)%n.length)},[n.length]);a.useEffect(()=>{if(!s)return;const l=d=>{d.key==="Escape"?u():d.key==="ArrowLeft"&&n.length>1?g():d.key==="ArrowRight"&&n.length>1&&x()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[s,n.length,u,x,g]);const M=l=>{const d=l.targetTouches[0];f({x:d.clientX,y:d.clientY})},p=l=>{if(!o)return;const d=l.targetTouches[0],N=Math.abs(d.clientX-o.x),w=Math.abs(d.clientY-o.y);N>w&&N>10&&l.preventDefault()},k=l=>{if(!o||n.length<=1){f(null);return}const d=l.changedTouches[0],N=d.clientX-o.x,w=Math.abs(d.clientY-o.y);Math.abs(N)>w&&Math.abs(N)>y&&(l.preventDefault(),N>0?g():x()),f(null)};if(!s||n.length===0)return null;const j=n[h];return e.jsxs("div",{ref:b,className:"fixed inset-0 bg-foreground/95 backdrop-blur-sm flex items-center justify-center",style:{zIndex:m},onClick:l=>{l.target===l.currentTarget&&u()},onTouchStart:M,onTouchMove:p,onTouchEnd:k,children:[e.jsx("button",{onClick:u,className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-card/20 flex items-center justify-center hover:bg-card/40 transition-colors z-20","aria-label":"Close",children:e.jsx(Q,{className:"w-6 h-6 text-primary-foreground"})}),n.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:l=>{l.stopPropagation(),g()},className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-card/20 flex items-center justify-center hover:bg-card/40 transition-colors z-20","aria-label":"Previous image",children:e.jsx(se,{className:"w-6 h-6 text-primary-foreground"})}),e.jsx("button",{onClick:l=>{l.stopPropagation(),x()},className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-card/20 flex items-center justify-center hover:bg-card/40 transition-colors z-20","aria-label":"Next image",children:e.jsx(X,{className:"w-6 h-6 text-primary-foreground"})})]}),e.jsxs("div",{className:"max-w-7xl max-h-[90vh] mx-4 relative z-10",onClick:l=>l.stopPropagation(),children:[e.jsx("img",{src:j.url,alt:j.title||`Image ${h+1}`,className:"max-w-full max-h-[90vh] object-contain rounded-xl"}),e.jsxs("div",{className:"text-center mt-4",children:[j.title&&e.jsx("p",{className:"text-primary-foreground font-medium text-lg",children:j.title}),j.description&&e.jsx("p",{className:"text-primary-foreground/80 text-sm mt-2",children:j.description}),n.length>1&&e.jsxs("p",{className:"text-primary-foreground/60 text-sm mt-2",children:[h+1," / ",n.length]})]})]})]})},Ae=({product:s,isOpen:n,onClose:c})=>{var U,O,q;const{t:u}=H("product"),{data:m=[]}=Pe(),[h,i]=a.useState(0),[o,f]=a.useState([]),[b,y]=a.useState(!1),[x,g]=a.useState(!1),[M,p]=a.useState(0),[k,j]=a.useState(null),[l,d]=a.useState(null),[N,w]=a.useState(null),[z,E]=a.useState(null),[ne,L]=a.useState(!1),[F,le]=a.useState(!1),re=a.useRef(null),{addToCart:ie}=W(),[ce,oe]=a.useState(()=>parseInt(new Date().toLocaleString("en-US",{timeZone:"Europe/Kyiv",hour:"2-digit",hour12:!1}))),de=50;a.useEffect(()=>{const t=()=>{const Ce=parseInt(new Date().toLocaleString("en-US",{timeZone:"Europe/Kyiv",hour:"2-digit",hour12:!1}));oe(Ce)};t();const v=36e5-new Date().getTime()%36e5;let C=null;const _=setTimeout(()=>{t(),C=setInterval(t,36e5)},v);return()=>{clearTimeout(_),C&&clearInterval(C)}},[]),a.useEffect(()=>(n?(document.body.style.overflow="hidden",i(0),f([]),s&&(G({eventType:"product_view",eventCategory:"ecommerce",productId:s.id,eventData:{name:s.name,price:s.salePrice||s.basePrice}}),Me({stage:"viewed_product"}))):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n,s]);const Y=a.useCallback(()=>{i(t=>!s||!s.images||s.images.length===0?t:(t+1)%s.images.length)},[s]),R=a.useCallback(()=>{i(t=>!s||!s.images||s.images.length===0?t:(t-1+s.images.length)%s.images.length)},[s]),me=a.useCallback(()=>{y(!0)},[]),he=a.useCallback(()=>{y(!1)},[]),xe=a.useCallback(t=>{p(t),g(!0)},[]),ue=a.useCallback(()=>{g(!1)},[]),fe=t=>{const r=t.targetTouches[0];j(r.clientX),d(r.clientY),w(null),E(null),L(!1)},ge=t=>{if(!k||!l)return;const r=t.targetTouches[0],v=Math.abs(r.clientX-k),C=Math.abs(r.clientY-l);v>C&&v>10&&(L(!0),t.preventDefault()),w(r.clientX),E(r.clientY)},be=t=>{if(!k||!N||!l||!z||!s){j(null),d(null),w(null),E(null),L(!1);return}const r=k-N,v=Math.abs(l-z);if(Math.abs(r)>v&&Math.abs(r)>de){const C=r>0,_=r<0;C&&s.images.length>1?(t.preventDefault(),Y()):_&&s.images.length>1&&(t.preventDefault(),R())}j(null),d(null),w(null),E(null),L(!1)},pe=a.useMemo(()=>Z(),[]),je=a.useMemo(()=>s?B(s.id,s.purchaseCount||0):0,[s==null?void 0:s.id,s==null?void 0:s.purchaseCount,ce,n]);if(!s||!n)return null;const ve=s.images.map(t=>({url:t})),Ne=(s.materials||[]).filter(t=>t.image).map(t=>({url:t.image,title:t.name,description:t.description||void 0})),$=s.salePrice||s.basePrice,D=o.reduce((t,r)=>{const v=s.options.find(C=>C.code===r);return t+((v==null?void 0:v.price)||0)},0),we=$+D,ye=t=>{f(r=>r.includes(t)?r.filter(v=>v!==t):[...r,t])},ke=()=>{ie(s.code,o),c()};return e.jsxs("div",{className:"fixed inset-0 z-50 flex md:items-center md:justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-foreground/60 backdrop-blur-sm",onClick:c}),e.jsxs("div",{className:"relative w-full h-full md:h-auto md:max-h-[90vh] md:mx-4 bg-card md:rounded-xl overflow-hidden animate-scale-in md:max-w-[calc(660px+min(90vh,100vw-660px-2rem))]",children:[e.jsx("button",{onClick:c,className:"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-card/80 backdrop-blur-sm flex items-center justify-center hover:bg-card transition-colors",children:e.jsx(Q,{className:"w-5 h-5"})}),e.jsx("div",{className:"h-full overflow-y-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{ref:re,className:"relative aspect-square md:aspect-auto md:flex-1 md:h-[90vh] bg-muted flex items-center justify-center min-w-0",onTouchStart:fe,onTouchMove:ge,onTouchEnd:be,children:[e.jsx("img",{src:s.images[h],alt:s.name,className:"w-full h-full object-contain cursor-pointer",onClick:t=>{ne||me()}}),s.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:R,className:"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-card/80 backdrop-blur-sm flex items-center justify-center hover:bg-card transition-colors",children:e.jsx(se,{className:"w-5 h-5"})}),e.jsx("button",{onClick:Y,className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-card/80 backdrop-blur-sm flex items-center justify-center hover:bg-card transition-colors",children:e.jsx(X,{className:"w-5 h-5"})})]}),s.images.length>1&&e.jsx("button",{onClick:()=>le(!F),className:"absolute bottom-4 right-4 w-10 h-10 rounded-full bg-card/80 backdrop-blur-sm flex items-center justify-center hover:bg-card transition-colors z-10",children:e.jsx($e,{className:"w-5 h-5"})}),s.images.length>1&&e.jsx("div",{className:S("absolute bottom-0 left-0 right-0 bg-muted/50 transition-all duration-300 overflow-hidden",F?"max-h-24 opacity-100 p-4":"max-h-0 opacity-0 p-0"),children:e.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:s.images.map((t,r)=>e.jsx("button",{onClick:()=>i(r),className:S("w-16 h-16 rounded-xl overflow-hidden flex-shrink-0 border-2 transition-colors",r===h?"border-primary":"border-transparent"),children:e.jsx("img",{src:t,alt:"",className:"w-full h-full object-cover"})},r))})})]}),e.jsxs("div",{className:"pt-6 px-6 pb-0 md:w-[660px] md:flex-shrink-0 md:overflow-y-auto md:max-h-[90vh]",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ae,{endDate:pe,compact:!0}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"до кінця акції"})]}),e.jsx("h2",{className:"text-2xl font-heading font-bold text-foreground mb-2",children:s.name}),e.jsx("p",{className:"text-muted-foreground",children:s.fullDescription})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-warning",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsxs("span",{children:[je," переглядають зараз"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-success",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.purchaseCount||0,"+ купили"]})]})]}),e.jsx("div",{className:"flex items-baseline gap-3 mb-6 p-4 rounded-xl bg-peach",children:s.salePrice?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-3xl font-heading font-bold text-primary",children:[s.salePrice," ₴"]}),e.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:[s.basePrice," ₴"]}),e.jsxs("span",{className:"badge-discount",children:["Економія ",s.basePrice-s.salePrice," ₴"]})]}):e.jsxs("span",{className:"text-3xl font-heading font-bold text-foreground",children:[s.basePrice," ₴"]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-heading font-semibold mb-2 flex items-center gap-2",children:[s.sectionIconSuitableFor&&e.jsx(I,{icon:s.sectionIconSuitableFor,className:"w-5 h-5"}),"Підходить для:"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.suitableFor.map((t,r)=>e.jsx("span",{className:"px-3 py-1 rounded-full bg-sage text-sm font-medium",children:t},r))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-heading font-semibold mb-3 flex items-center gap-2",children:[s.sectionIconFeatures&&e.jsx(I,{icon:s.sectionIconFeatures,className:"w-5 h-5"}),"Що входить:"]}),e.jsx("ul",{className:"space-y-2",children:s.features.map((t,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(De,{className:"w-5 h-5 text-success flex-shrink-0 mt-0.5"}),e.jsx("span",{children:t})]},r))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-heading font-semibold mb-3 flex items-center gap-2",children:[s.sectionIconCanMake&&e.jsx(I,{icon:s.sectionIconCanMake,className:"w-5 h-5"}),u("what_can_make")]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.canMake.map((t,r)=>e.jsx("span",{className:"px-3 py-1 rounded-full bg-muted text-sm",children:t},r))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-heading font-semibold mb-3 flex items-center gap-2",children:[s.sectionIconMaterials&&e.jsx(I,{icon:s.sectionIconMaterials,className:"w-5 h-5"}),"Матеріали:"]}),e.jsx("div",{className:"space-y-2",children:s.materials.map((t,r)=>e.jsxs("div",{className:"flex gap-3 p-2 rounded-xl bg-muted",children:[t.thumbnail&&e.jsx("button",{onClick:()=>xe(r),className:"flex-shrink-0 w-12 h-12 rounded-xl overflow-hidden border border-border hover:opacity-80 transition-opacity",children:e.jsx("img",{src:t.thumbnail,alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium",children:t.name}),t.description&&e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:t.description})]})]},t.id||r))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-heading font-semibold mb-3 flex items-center gap-2",children:[s.sectionIconOptions&&e.jsx(I,{icon:s.sectionIconOptions,className:"w-5 h-5"}),"Додаткові опції:"]}),e.jsx("div",{className:"space-y-3",children:s.options.map(t=>e.jsxs("label",{className:S("flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-colors",o.includes(t.code)?"border-primary bg-peach":"border-border hover:border-primary/50"),children:[e.jsx(Le,{checked:o.includes(t.code),onCheckedChange:()=>ye(t.code),className:"mt-0.5"}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.icon&&e.jsx(I,{icon:t.icon}),e.jsx("span",{className:"font-medium text-foreground",children:t.name})]}),t.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.description})]}),e.jsxs("span",{className:"font-bold text-primary whitespace-nowrap",children:["+",t.price," ₴"]})]},t.code))})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 p-4 rounded-xl bg-sage",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(_e,{className:"w-5 h-5 text-secondary"}),e.jsx("span",{children:((U=m.find(t=>t.key==="product.benefits.quality"))==null?void 0:U.value)||"Безпечні матеріали для дитячої творчості"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Oe,{className:"w-5 h-5 text-secondary"}),e.jsx("span",{children:((O=m.find(t=>t.key==="product.benefits.return"))==null?void 0:O.value)||"Обмін і повернення без зайвих питань"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(He,{className:"w-5 h-5 text-secondary"}),e.jsx("span",{children:((q=m.find(t=>t.key==="product.benefits.freeDelivery"))==null?void 0:q.value)||"Безкоштовна доставка від 1500 ₴"})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-card pt-4 pb-4 border-t border-border",children:[e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-medium",children:"Разом:"}),e.jsxs("span",{className:"text-2xl font-heading font-bold text-primary",children:[we," ₴"]})]}),D>0&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Набір ",$," грн + додатково ",D," грн"]})]}),e.jsxs(P,{variant:"cta",size:"xl",className:"w-full",onClick:ke,children:[e.jsx(ee,{className:"w-5 h-5"}),"Купити зараз"]})]})]})]})})]}),e.jsx(A,{isOpen:b,images:ve,initialIndex:h,onClose:he,zIndex:60}),e.jsx(A,{isOpen:x,images:Ne,initialIndex:M,onClose:ue,zIndex:70})]})},ds=()=>{var y;const{t:s}=H("products"),{data:n=[],isLoading:c}=Ie(),[u,m]=a.useState(null),h=Te(),i=Ee("/nabory-fetru/:slug"),o=a.useRef(!1),f=((y=i==null?void 0:i.params)==null?void 0:y.slug)??null;a.useEffect(()=>{if(n.length===0||o.current||!f)return;const x=n.find(g=>g.slug===f);x&&(o.current=!0,m(x))},[n,f]);const b=()=>{m(null),i&&h("/#products",{replace:!0})};return e.jsxs("section",{id:"products",className:"py-20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-peach/30 to-background -z-10"}),e.jsxs("div",{className:"container-tight",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary mb-4",children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:s("badge")})]}),e.jsx("h2",{className:"text-3xl sm:text-4xl font-heading font-bold text-foreground mb-4",children:s("title")}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:s("subtitle")})]}),c?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:s("loading")}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:n.map((x,g)=>e.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${g*.15}s`},children:e.jsx(Ke,{product:x,onOpenModal:m})},x.id))}),e.jsxs("div",{className:"mt-12 text-center p-6 rounded-2xl bg-gradient-to-r from-primary/10 via-secondary/10 to-accent/10",children:[e.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:s("cta.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("cta.subtitle")})]})]}),e.jsx(Ae,{product:u,isOpen:!!u,onClose:b})]})};export{A as I,ds as P,te as S};
