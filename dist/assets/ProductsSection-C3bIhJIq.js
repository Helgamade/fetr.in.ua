import{j as e}from"./chunk-lottie-CUWK48HK.js";import{r as a,R as Me}from"./chunk-charts-BaLkbnPn.js";import{B as P}from"./button-BuHmTTJ8.js";import{C as A}from"./clock-DZ8cDvy9.js";import{c as T,a as B,E as G,F as Q,b as S,t as V,X as J,s as Ie,u as Te,q as Ee,G as Le}from"./index-DwSsCT8I.js";import{u as X}from"./useTranslation-Drnmjcoc.js";import{E as ee}from"./eye-fQAQrXA5.js";import{U as H}from"./users-B7bnUcrh.js";import{C as z}from"./chevron-right-DEE6MNe7.js";import{S as se}from"./StickyMobileCTA-BIaJNQif.js";import{u as Pe}from"./useTexts-C6FRpKQX.js";import{C as te}from"./chevron-left-Bcte5PMl.js";import{C as W}from"./check-C_5cKheV.js";import{S as De}from"./avatar-D4_aaWTl.js";import{T as _e}from"./truck-hVIzQ-yS.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Xe=T("crown",He);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Fe=T("flame",ze);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Re=T("grid-3x3",Ye);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$e=T("refresh-cw",Ue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ae=T("sparkles",Oe),ne=({endDate:s,className:l="",compact:c=!1})=>{const u=a.useMemo(()=>s,[s.getTime()]),[m,x]=a.useState({hours:0,minutes:0,seconds:0});a.useEffect(()=>{const o=()=>{const b=u.getTime()-new Date().getTime();b>0?x({hours:Math.floor(b/36e5%24),minutes:Math.floor(b/1e3/60%60),seconds:Math.floor(b/1e3%60)}):x({hours:0,minutes:0,seconds:0})};o();const f=setInterval(o,1e3);return()=>clearInterval(f)},[u]);const i=`${String(m.hours).padStart(2,"0")}:${String(m.minutes).padStart(2,"0")}:${String(m.seconds).padStart(2,"0")}`;return c?e.jsxs("div",{className:`flex items-center gap-1.5 text-sm ${l}`,children:[e.jsx(A,{className:"w-4 h-4 text-warning"}),e.jsxs("span",{className:"font-medium",children:["Знижка діє ще: ",i]})]}):e.jsxs("div",{className:`flex items-center gap-2 ${l}`,children:[e.jsx(A,{className:"w-5 h-5 text-warning"}),e.jsxs("span",{className:"font-medium",children:["Знижка діє ще: ",i]})]})},qe=({product:s,onOpenModal:l})=>{const{t:c}=X("product"),{addToCart:u}=B(),[m,x]=a.useState(!1),i={hit:{icon:Fe,label:c("badge.hit"),className:"badge-hit"},recommended:{icon:ae,label:c("badge.recommended"),className:"bg-secondary text-secondary-foreground text-xs font-semibold px-3 py-1 rounded-full"},limited:{icon:Xe,label:c("badge.limited"),className:"badge-limited"}},[o,f]=a.useState(()=>parseInt(new Date().toLocaleString("en-US",{timeZone:"Europe/Kyiv",hour:"2-digit",hour12:!1})));a.useEffect(()=>{const j=()=>{const w=parseInt(new Date().toLocaleString("en-US",{timeZone:"Europe/Kyiv",hour:"2-digit",hour12:!1}));f(w)};j();const p=36e5-new Date().getTime()%36e5;let r=null;const d=setTimeout(()=>{j(),r=setInterval(j,36e5)},p);return()=>{clearTimeout(d),r&&clearInterval(r)}},[]);const b=a.useMemo(()=>G(),[]),y=a.useMemo(()=>Q(s.id,s.purchaseCount||0),[s.id,s.purchaseCount,o]),h=s.salePrice?Math.round((1-s.salePrice/s.basePrice)*100):0,g=j=>{j.stopPropagation(),u(s.code,[])},M=()=>{V({eventType:"product_view",eventCategory:"product",productId:s.id}),l(s)};return e.jsxs("div",{className:S("glass-card overflow-hidden transition-all duration-300 group",m&&"shadow-large -translate-y-2"),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[e.jsx("img",{src:s.images[0],alt:s.name,loading:"lazy",width:400,height:300,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),s.badge&&e.jsxs("div",{className:S("absolute top-4 left-4 flex items-center gap-1",i[s.badge].className),children:[Me.createElement(i[s.badge].icon,{className:"w-3 h-3"}),i[s.badge].label]}),h>0&&e.jsxs("div",{className:"absolute top-4 right-4 bg-primary text-primary-foreground px-3 py-1 rounded-full text-sm font-bold",children:["-",h,"%"]}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-card/90 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-medium",children:[e.jsx(ee,{className:"w-3 h-3 text-primary animate-pulse"}),e.jsxs("span",{children:[y," переглядають"]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-card/90 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-medium",children:[e.jsx(H,{className:"w-3 h-3 text-sage-dark"}),e.jsxs("span",{children:[s.purchaseCount||0,"+ купили"]})]})]}),e.jsx("div",{className:S("absolute inset-0 bg-gradient-to-t from-foreground/60 to-transparent flex items-end justify-center pb-4 transition-opacity duration-300",m?"opacity-100":"opacity-0"),children:e.jsxs(P,{variant:"glass",onClick:M,children:["Детальніше",e.jsx(z,{className:"w-4 h-4"})]})})]}),e.jsxs("div",{className:"p-4 sm:p-5",children:[e.jsx("div",{className:"mb-3",children:e.jsx(ne,{endDate:b,compact:!0})}),e.jsx("h3",{className:"text-lg font-heading font-bold text-foreground mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:s.shortDescription}),e.jsxs("ul",{className:"mb-4 space-y-1",children:[s.features.slice(0,3).map((j,k)=>e.jsxs("li",{className:"text-sm text-foreground flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-1.5 flex-shrink-0"}),j]},k)),s.featuresExtraText&&e.jsx("li",{className:"text-sm text-primary font-medium",children:s.featuresExtraText})]}),e.jsx("div",{className:"flex items-baseline gap-2 mb-4",children:s.salePrice?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-2xl font-heading font-bold text-primary",children:[s.salePrice," ₴"]}),e.jsxs("span",{className:"text-lg text-muted-foreground line-through",children:[s.basePrice," ₴"]})]}):e.jsxs("span",{className:"text-2xl font-heading font-bold text-foreground",children:[s.basePrice," ₴"]})}),s.stock>0&&e.jsx("div",{className:"flex items-center gap-2 text-warning text-sm font-medium mb-4",children:e.jsxs("span",{children:["Залишилось ",s.stock," шт"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(P,{variant:"hero",className:"flex-1",onClick:g,children:[e.jsx(se,{className:"w-4 h-4"}),"Купити"]}),e.jsx(P,{variant:"outline",onClick:M,children:"Детальніше"})]})]})]})},I=({icon:s,className:l})=>s?s.trim().startsWith("<svg")?e.jsx("div",{className:S("w-4 h-4 text-primary flex-shrink-0 [&_svg]:w-full [&_svg]:h-full [&_svg]:text-current [&_svg]:stroke-current",l),dangerouslySetInnerHTML:{__html:s}}):s.startsWith("http")||s.startsWith("/")||s.startsWith("./")?e.jsx("img",{src:s,alt:"",className:S("w-4 h-4 object-contain flex-shrink-0",l),onError:c=>{c.target.style.display="none"}}):null:null,Z=({isOpen:s,images:l,initialIndex:c=0,onClose:u,zIndex:m=50})=>{const[x,i]=a.useState(c),[o,f]=a.useState(null),b=a.useRef(null),y=50;a.useEffect(()=>{s&&c>=0&&c<l.length&&i(c)},[s,c,l.length]);const h=a.useCallback(()=>{i(r=>(r+1)%l.length)},[l.length]),g=a.useCallback(()=>{i(r=>(r-1+l.length)%l.length)},[l.length]);a.useEffect(()=>{if(!s)return;const r=d=>{d.key==="Escape"?u():d.key==="ArrowLeft"&&l.length>1?g():d.key==="ArrowRight"&&l.length>1&&h()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[s,l.length,u,h,g]);const M=r=>{const d=r.targetTouches[0];f({x:d.clientX,y:d.clientY})},j=r=>{if(!o)return;const d=r.targetTouches[0],N=Math.abs(d.clientX-o.x),w=Math.abs(d.clientY-o.y);N>w&&N>10&&r.preventDefault()},k=r=>{if(!o||l.length<=1){f(null);return}const d=r.changedTouches[0],N=d.clientX-o.x,w=Math.abs(d.clientY-o.y);Math.abs(N)>w&&Math.abs(N)>y&&(r.preventDefault(),N>0?g():h()),f(null)};if(!s||l.length===0)return null;const p=l[x];return e.jsxs("div",{ref:b,className:"fixed inset-0 bg-foreground/95 backdrop-blur-sm flex items-center justify-center",style:{zIndex:m},onClick:r=>{r.target===r.currentTarget&&u()},onTouchStart:M,onTouchMove:j,onTouchEnd:k,children:[e.jsx("button",{onClick:u,className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-card/20 flex items-center justify-center hover:bg-card/40 transition-colors z-20","aria-label":"Close",children:e.jsx(J,{className:"w-6 h-6 text-primary-foreground"})}),l.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:r=>{r.stopPropagation(),g()},className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-card/20 flex items-center justify-center hover:bg-card/40 transition-colors z-20","aria-label":"Previous image",children:e.jsx(te,{className:"w-6 h-6 text-primary-foreground"})}),e.jsx("button",{onClick:r=>{r.stopPropagation(),h()},className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-card/20 flex items-center justify-center hover:bg-card/40 transition-colors z-20","aria-label":"Next image",children:e.jsx(z,{className:"w-6 h-6 text-primary-foreground"})})]}),e.jsxs("div",{className:"max-w-7xl max-h-[90vh] mx-4 relative z-10",onClick:r=>r.stopPropagation(),children:[e.jsx("img",{src:p.url,alt:p.title||`Image ${x+1}`,className:"max-w-full max-h-[90vh] object-contain rounded-xl"}),e.jsxs("div",{className:"text-center mt-4",children:[p.title&&e.jsx("p",{className:"text-primary-foreground font-medium text-lg",children:p.title}),p.description&&e.jsx("p",{className:"text-primary-foreground/80 text-sm mt-2",children:p.description}),l.length>1&&e.jsxs("p",{className:"text-primary-foreground/60 text-sm mt-2",children:[x+1," / ",l.length]})]})]})]})},Ke=({product:s,isOpen:l,onClose:c})=>{var O,q,K;const{t:u}=X("product"),{data:m=[]}=Pe(),[x,i]=a.useState(0),[o,f]=a.useState([]),[b,y]=a.useState(!1),[h,g]=a.useState(!1),[M,j]=a.useState(0),[k,p]=a.useState(null),[r,d]=a.useState(null),[N,w]=a.useState(null),[F,E]=a.useState(null),[le,L]=a.useState(!1),[Y,re]=a.useState(!1),ie=a.useRef(null),{addToCart:ce}=B(),[oe,de]=a.useState(()=>parseInt(new Date().toLocaleString("en-US",{timeZone:"Europe/Kyiv",hour:"2-digit",hour12:!1}))),me=50;a.useEffect(()=>{const t=()=>{const Se=parseInt(new Date().toLocaleString("en-US",{timeZone:"Europe/Kyiv",hour:"2-digit",hour12:!1}));de(Se)};t();const v=36e5-new Date().getTime()%36e5;let C=null;const _=setTimeout(()=>{t(),C=setInterval(t,36e5)},v);return()=>{clearTimeout(_),C&&clearInterval(C)}},[]),a.useEffect(()=>(l?(document.body.style.overflow="hidden",i(0),f([]),s&&(V({eventType:"product_view",eventCategory:"ecommerce",productId:s.id,eventData:{name:s.name,price:s.salePrice||s.basePrice}}),Ie({stage:"viewed_product"}))):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[l,s]);const R=a.useCallback(()=>{i(t=>!s||!s.images||s.images.length===0?t:(t+1)%s.images.length)},[s]),U=a.useCallback(()=>{i(t=>!s||!s.images||s.images.length===0?t:(t-1+s.images.length)%s.images.length)},[s]),xe=a.useCallback(()=>{y(!0)},[]),he=a.useCallback(()=>{y(!1)},[]),ue=a.useCallback(t=>{j(t),g(!0)},[]),fe=a.useCallback(()=>{g(!1)},[]),ge=t=>{const n=t.targetTouches[0];p(n.clientX),d(n.clientY),w(null),E(null),L(!1)},be=t=>{if(!k||!r)return;const n=t.targetTouches[0],v=Math.abs(n.clientX-k),C=Math.abs(n.clientY-r);v>C&&v>10&&(L(!0),t.preventDefault()),w(n.clientX),E(n.clientY)},je=t=>{if(!k||!N||!r||!F||!s){p(null),d(null),w(null),E(null),L(!1);return}const n=k-N,v=Math.abs(r-F);if(Math.abs(n)>v&&Math.abs(n)>me){const C=n>0,_=n<0;C&&s.images.length>1?(t.preventDefault(),R()):_&&s.images.length>1&&(t.preventDefault(),U())}p(null),d(null),w(null),E(null),L(!1)},pe=a.useMemo(()=>G(),[]),ve=a.useMemo(()=>s?Q(s.id,s.purchaseCount||0):0,[s==null?void 0:s.id,s==null?void 0:s.purchaseCount,oe,l]);if(!s||!l)return null;const Ne=s.images.map(t=>({url:t})),we=(s.materials||[]).filter(t=>t.image).map(t=>({url:t.image,title:t.name,description:t.description||void 0})),$=s.salePrice||s.basePrice,D=o.reduce((t,n)=>{const v=s.options.find(C=>C.code===n);return t+((v==null?void 0:v.price)||0)},0),ye=$+D,ke=t=>{f(n=>n.includes(t)?n.filter(v=>v!==t):[...n,t])},Ce=()=>{ce(s.code,o),c()};return e.jsxs("div",{className:"fixed inset-0 z-50 flex md:items-center md:justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-foreground/60 backdrop-blur-sm",onClick:c}),e.jsxs("div",{className:"relative w-full h-full md:h-auto md:max-h-[90vh] md:mx-4 bg-card md:rounded-xl overflow-hidden animate-scale-in md:max-w-[calc(660px+min(90vh,100vw-660px-2rem))]",children:[e.jsx("button",{onClick:c,className:"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-card/80 backdrop-blur-sm flex items-center justify-center hover:bg-card transition-colors",children:e.jsx(J,{className:"w-5 h-5"})}),e.jsx("div",{className:"h-full overflow-y-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{ref:ie,className:"relative aspect-square md:aspect-auto md:flex-1 md:h-[90vh] bg-muted flex items-center justify-center min-w-0",onTouchStart:ge,onTouchMove:be,onTouchEnd:je,children:[e.jsx("img",{src:s.images[x],alt:s.name,className:"w-full h-full object-contain cursor-pointer",onClick:t=>{le||xe()}}),s.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:U,className:"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-card/80 backdrop-blur-sm flex items-center justify-center hover:bg-card transition-colors",children:e.jsx(te,{className:"w-5 h-5"})}),e.jsx("button",{onClick:R,className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-card/80 backdrop-blur-sm flex items-center justify-center hover:bg-card transition-colors",children:e.jsx(z,{className:"w-5 h-5"})})]}),s.images.length>1&&e.jsx("button",{onClick:()=>re(!Y),className:"absolute bottom-4 right-4 w-10 h-10 rounded-full bg-card/80 backdrop-blur-sm flex items-center justify-center hover:bg-card transition-colors z-10",children:e.jsx(Re,{className:"w-5 h-5"})}),s.images.length>1&&e.jsx("div",{className:S("absolute bottom-0 left-0 right-0 bg-muted/50 transition-all duration-300 overflow-hidden",Y?"max-h-24 opacity-100 p-4":"max-h-0 opacity-0 p-0"),children:e.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:s.images.map((t,n)=>e.jsx("button",{onClick:()=>i(n),className:S("w-16 h-16 rounded-xl overflow-hidden flex-shrink-0 border-2 transition-colors",n===x?"border-primary":"border-transparent"),children:e.jsx("img",{src:t,alt:"",className:"w-full h-full object-cover"})},n))})})]}),e.jsxs("div",{className:"pt-6 px-6 pb-0 md:w-[660px] md:flex-shrink-0 md:overflow-y-auto md:max-h-[90vh]",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ne,{endDate:pe,compact:!0}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"до кінця акції"})]}),e.jsx("h2",{className:"text-2xl font-heading font-bold text-foreground mb-2",children:s.fullName||s.name}),e.jsx("p",{className:"text-muted-foreground",children:s.fullDescription})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-warning",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsxs("span",{children:[ve," переглядають зараз"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-success",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.purchaseCount||0,"+ купили"]})]})]}),e.jsx("div",{className:"flex items-baseline gap-3 mb-6 p-4 rounded-xl bg-peach",children:s.salePrice?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-3xl font-heading font-bold text-primary",children:[s.salePrice," ₴"]}),e.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:[s.basePrice," ₴"]}),e.jsxs("span",{className:"badge-discount",children:["Економія ",s.basePrice-s.salePrice," ₴"]})]}):e.jsxs("span",{className:"text-3xl font-heading font-bold text-foreground",children:[s.basePrice," ₴"]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-heading font-semibold mb-2 flex items-center gap-2",children:[s.sectionIconSuitableFor&&e.jsx(I,{icon:s.sectionIconSuitableFor,className:"w-5 h-5"}),"Підходить для:"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.suitableFor.map((t,n)=>e.jsx("span",{className:"px-3 py-1 rounded-full bg-sage text-sm font-medium",children:t},n))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-heading font-semibold mb-3 flex items-center gap-2",children:[s.sectionIconFeatures&&e.jsx(I,{icon:s.sectionIconFeatures,className:"w-5 h-5"}),"Що входить:"]}),e.jsx("ul",{className:"space-y-2",children:s.features.map((t,n)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-success flex-shrink-0 mt-0.5"}),e.jsx("span",{children:t})]},n))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-heading font-semibold mb-3 flex items-center gap-2",children:[s.sectionIconCanMake&&e.jsx(I,{icon:s.sectionIconCanMake,className:"w-5 h-5"}),u("what_can_make")]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.canMake.map((t,n)=>e.jsx("span",{className:"px-3 py-1 rounded-full bg-muted text-sm",children:t},n))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-heading font-semibold mb-3 flex items-center gap-2",children:[s.sectionIconMaterials&&e.jsx(I,{icon:s.sectionIconMaterials,className:"w-5 h-5"}),"Матеріали (",s.materials.length," позицій):"]}),e.jsx("div",{className:"space-y-2",children:s.materials.map((t,n)=>e.jsxs("div",{className:"flex gap-3 p-2 rounded-xl bg-muted",children:[t.thumbnail&&e.jsx("button",{onClick:()=>ue(n),className:"flex-shrink-0 w-12 h-12 rounded-xl overflow-hidden border border-border hover:opacity-80 transition-opacity",children:e.jsx("img",{src:t.thumbnail,alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium",children:t.name}),t.description&&e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:t.description})]})]},t.id||n))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-heading font-semibold mb-3 flex items-center gap-2",children:[s.sectionIconOptions&&e.jsx(I,{icon:s.sectionIconOptions,className:"w-5 h-5"}),"Додаткові опції:"]}),e.jsx("div",{className:"space-y-2.5",children:s.options.map(t=>{const n=o.includes(t.code);return e.jsxs("div",{className:S("relative border rounded-lg p-3.5 cursor-pointer transition-all",n?"border-primary bg-peach shadow-sm":"border-border hover:border-primary/30 hover:shadow-sm"),onClick:()=>ke(t.code),children:[t.badge&&e.jsx("span",{className:"absolute -top-2.5 right-3 inline-flex items-center leading-none text-xs font-semibold px-2 py-1 rounded-full bg-primary text-primary-foreground",children:t.badge}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:S("mt-0.5 w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 transition-colors",n?"border-primary bg-primary":"border-muted-foreground/30"),children:n&&e.jsx(W,{className:"w-3 h-3 text-primary-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[t.icon&&e.jsx(I,{icon:t.icon,className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-foreground",children:t.name})]}),t.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:t.description})]}),e.jsxs("span",{className:"font-bold text-primary whitespace-nowrap flex-shrink-0",children:["+",t.price," ₴"]})]}),t.orderCount!=null&&t.orderCount>0&&e.jsxs("div",{className:"flex items-center gap-1 mt-1.5 text-xs text-muted-foreground",children:[e.jsx(H,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsxs("span",{children:["Замовили разом ",e.jsx("strong",{className:"text-foreground",children:t.orderCount.toLocaleString("uk-UA")})," разів"]})]})]})]})]},t.code)})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 p-4 rounded-xl bg-sage",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(De,{className:"w-5 h-5 text-secondary"}),e.jsx("span",{children:((O=m.find(t=>t.key==="product.benefits.quality"))==null?void 0:O.value)||"Безпечні матеріали для дитячої творчості"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx($e,{className:"w-5 h-5 text-secondary"}),e.jsx("span",{children:((q=m.find(t=>t.key==="product.benefits.return"))==null?void 0:q.value)||"Обмін і повернення без зайвих питань"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(_e,{className:"w-5 h-5 text-secondary"}),e.jsx("span",{children:((K=m.find(t=>t.key==="product.benefits.freeDelivery"))==null?void 0:K.value)||"Безкоштовна доставка від 1500 ₴"})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-card pt-4 pb-4 border-t border-border",children:[e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-medium",children:"Разом:"}),e.jsxs("span",{className:"text-2xl font-heading font-bold text-primary",children:[ye," ₴"]})]}),D>0&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Набір ",$," грн + додатково ",D," грн"]})]}),e.jsxs(P,{variant:"cta",size:"xl",className:"w-full",onClick:Ce,children:[e.jsx(se,{className:"w-5 h-5"}),"Купити зараз"]})]})]})]})})]}),e.jsx(Z,{isOpen:b,images:Ne,initialIndex:x,onClose:he,zIndex:60}),e.jsx(Z,{isOpen:h,images:we,initialIndex:M,onClose:fe,zIndex:70})]})},cs=()=>{var y;const{t:s}=X("products"),{data:l=[],isLoading:c}=Te(),[u,m]=a.useState(null),x=Ee(),i=Le("/nabory-fetru/:slug"),o=a.useRef(!1),f=((y=i==null?void 0:i.params)==null?void 0:y.slug)??null;a.useEffect(()=>{if(l.length===0||o.current||!f)return;const h=l.find(g=>g.slug===f);h&&(o.current=!0,m(h))},[l,f]);const b=()=>{m(null),i&&x("/#products",{replace:!0})};return e.jsxs("section",{id:"products",className:"py-20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-peach/30 to-background -z-10"}),e.jsxs("div",{className:"container-tight",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary mb-4",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:s("badge")})]}),e.jsx("h2",{className:"text-3xl sm:text-4xl font-heading font-bold text-foreground mb-4",children:s("title")}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:s("subtitle")})]}),c?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:s("loading")}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:l.map((h,g)=>e.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${g*.15}s`},children:e.jsx(qe,{product:h,onOpenModal:m})},h.id))}),e.jsxs("div",{className:"mt-12 text-center p-6 rounded-2xl bg-gradient-to-r from-primary/10 via-secondary/10 to-accent/10",children:[e.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:s("cta.title")}),e.jsx("p",{className:"text-muted-foreground",children:s("cta.subtitle")})]})]}),e.jsx(Ke,{product:u,isOpen:!!u,onClose:b})]})};export{Z as I,cs as P,ae as S};
