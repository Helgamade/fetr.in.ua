import{j as e}from"./chunk-lottie-CUWK48HK.js";import{r as h}from"./chunk-charts-BaLkbnPn.js";import{B as n}from"./button-DbOqy-bd.js";import{I as o}from"./input-CX5tNebo.js";import{C as w,d as C}from"./card-hmVZsDUq.js";import{B as _}from"./badge-C3GZfeW2.js";import{D as J,a as K,b as W,c as Y,d as Z}from"./dialog-C08eaag5.js";import{L as r}from"./label-C5UElfPr.js";import{T as d}from"./textarea-qGHGkmRy.js";import{T as ee,a as se,b as x,c as u}from"./tabs-Dw6NuoLE.js";import{e as ae,a0 as te,a1 as le,B as ie,a2 as re,a3 as ne,D as ce,X as S}from"./index-D_0WsTs2.js";import{u as oe}from"./useTranslation-qdiCy4P1.js";import{S as de}from"./search-DwN3ncs1.js";import{P as v,T as me}from"./trash-2-CKJaomP5.js";import{E as he}from"./eye-MxoIhJAX.js";import{S as U}from"./shopping-cart-DxZqKqo9.js";import{P as xe}from"./package-k1v3jaGb.js";import{S as ue}from"./square-pen-GT-FYehh.js";import{U as pe}from"./upload-VPKEcmrZ.js";import{C as V}from"./chevron-up-mAf4qrzT.js";import{C as G}from"./chevron-down-XBEGSL4M.js";import"./index-CbFhp7S4.js";import"./Combination-Cynz0wEz.js";import"./index-D4-djExh.js";import"./useTexts-B3kGWpp3.js";const ge={hit:"bg-red-100 text-red-800",recommended:"bg-green-100 text-green-800",limited:"bg-purple-100 text-purple-800"};function Ae(){const{t:p}=oe("product"),{data:f=[],isLoading:O}=ae(),k=te(),z=le(),[N,R]=h.useState(""),[a,i]=h.useState(null),[b,g]=h.useState(!1),[P,E]=h.useState([]),[I,M]=h.useState([]),[D,F]=h.useState(null),j=h.useRef({}),{toast:m}=ie(),B={hit:p("badge.hit"),recommended:p("badge.recommended"),limited:p("badge.limited")};h.useEffect(()=>{b&&Promise.all([re.getAll(),ne.getAll()]).then(([s,t])=>{E(s),M(t)}).catch(()=>{m({title:"Помилка",description:"Не вдалося завантажити опції або матеріали",variant:"destructive"})})},[b,m]);const L=f.filter(s=>s.name.toLowerCase().includes(N.toLowerCase())||s.shortDescription.toLowerCase().includes(N.toLowerCase())),A=s=>{i({...s,images:s.images&&s.images.length>0?[...s.images]:[""]}),g(!0)},$=()=>{if(!a)return;const s={...a,options:a.options.map((t,l)=>({id:t.id,sortOrder:l})),materials:a.materials.map(t=>t.id),images:a.images.filter(t=>t&&t.trim())};k.mutate({id:a.id,data:s},{onSuccess:()=>{m({title:"Збережено",description:`Товар "${a.name}" оновлено`}),g(!1),i(null)},onError:t=>{m({title:"Помилка",description:t.message||"Не вдалося зберегти товар",variant:"destructive"})}})},Q=async(s,t)=>{F(s);const l=new FormData;l.append("image",t);try{const c=await fetch("/api/products/upload-image",{method:"POST",body:l});if(!c.ok)throw new Error("Помилка завантаження файлу");const y=await c.json(),T=[...(a==null?void 0:a.images)||[]];T[s]=y.url,i({...a,images:T}),m({title:"Успішно",description:"Зображення завантажено"})}catch(c){m({title:"Помилка",description:c.message||"Не вдалося завантажити зображення",variant:"destructive"})}finally{F(null)}},X=(s,t)=>{var c;const l=(c=t.target.files)==null?void 0:c[0];l&&Q(s,l),j.current[s]&&(j.current[s].value="")},q=s=>{const t=f.find(l=>l.id===s);z.mutate(s,{onSuccess:()=>{m({title:"Видалено",description:`Товар "${t==null?void 0:t.name}" видалено`,variant:"destructive"})},onError:l=>{m({title:"Помилка",description:l.message||"Не вдалося видалити товар",variant:"destructive"})}})},H=(s,t)=>{const l=f.find(c=>c.id===s);l&&k.mutate({id:s,data:{...l,stock:Math.max(0,t)}})};return O?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Завантаження товарів..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(w,{children:e.jsx(C,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(de,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(o,{placeholder:"Пошук товарів...",value:N,onChange:s=>R(s.target.value),className:"pl-9"})]}),e.jsxs(n,{onClick:()=>{m({title:"Функція в розробці",description:"Додавання нових товарів буде доступне пізніше"})},children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Додати товар"]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(s=>e.jsxs(w,{className:"overflow-hidden",children:[e.jsxs("div",{className:"aspect-video relative",children:[e.jsx("img",{src:s.images[0],alt:s.name,className:"w-full h-full object-cover"}),s.badge&&e.jsx(_,{className:`absolute top-2 right-2 ${ge[s.badge]}`,children:B[s.badge]})]}),e.jsxs(C,{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.shortDescription})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-primary",children:["₴",s.salePrice||s.basePrice]}),s.salePrice&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["₴",s.basePrice]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(he,{className:"h-4 w-4"}),s.viewCount]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-4 w-4"}),s.purchaseCount," (маркет.)"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-4 w-4"}),s.actualPurchaseCount||0," (факт.)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"На складі:"}),e.jsx(o,{type:"number",value:s.stock,onChange:t=>H(s.id,parseInt(t.target.value)||0),className:"w-20 h-8 text-center",min:0})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(n,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>A(s),children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Редагувати"]}),e.jsx(n,{variant:"outline",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>q(s.id),children:e.jsx(me,{className:"h-4 w-4"})})]})]})]},s.id))}),L.length===0&&e.jsx(w,{children:e.jsx(C,{className:"py-8 text-center text-muted-foreground",children:"Товари не знайдено"})}),e.jsx(J,{open:b,onOpenChange:g,children:e.jsxs(K,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(W,{children:e.jsx(Y,{children:"Редагувати товар"})}),a&&e.jsxs(ee,{defaultValue:"basic",className:"w-full",children:[e.jsxs(se,{className:"grid w-full grid-cols-7",children:[e.jsx(x,{value:"basic",children:"Основне"}),e.jsx(x,{value:"images",children:"Зображення"}),e.jsx(x,{value:"features",children:"Що входить"}),e.jsx(x,{value:"materials",children:"Матеріали"}),e.jsx(x,{value:"canMake",children:"Що можна зробити"}),e.jsx(x,{value:"suitableFor",children:"Підходить для"}),e.jsx(x,{value:"options",children:"Опції"})]}),e.jsxs(u,{value:"basic",className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"name",children:"Назва"}),e.jsx(o,{id:"name",value:a.name,onChange:s=>i({...a,name:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"shortDescription",children:"Короткий опис"}),e.jsx(d,{id:"shortDescription",value:a.shortDescription,onChange:s=>i({...a,shortDescription:s.target.value}),rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"fullDescription",children:"Повний опис"}),e.jsx(d,{id:"fullDescription",value:a.fullDescription,onChange:s=>i({...a,fullDescription:s.target.value}),rows:4})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"basePrice",children:"Базова ціна (₴)"}),e.jsx(o,{id:"basePrice",type:"number",value:a.basePrice,onChange:s=>i({...a,basePrice:parseFloat(s.target.value)||0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"salePrice",children:"Ціна зі знижкою (₴)"}),e.jsx(o,{id:"salePrice",type:"number",value:a.salePrice||"",onChange:s=>i({...a,salePrice:s.target.value?parseFloat(s.target.value):void 0})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"stock",children:"Кількість на складі"}),e.jsx(o,{id:"stock",type:"number",value:a.stock,onChange:s=>i({...a,stock:parseInt(s.target.value)||0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"dailySalesTarget",children:"Цільові продажі в день"}),e.jsx(o,{id:"dailySalesTarget",type:"number",value:a.dailySalesTarget||"",onChange:s=>i({...a,dailySalesTarget:s.target.value?parseInt(s.target.value):void 0}),placeholder:"Наприклад: 7"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:'Використовується для модуля Social Proof та відображення "X купили сьогодні"'})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"badge",children:"Бейдж"}),e.jsxs("select",{id:"badge",value:a.badge||"",onChange:s=>i({...a,badge:s.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[e.jsx("option",{value:"",children:"Без бейджа"}),e.jsx("option",{value:"hit",children:p("badge.hit")}),e.jsx("option",{value:"recommended",children:p("badge.recommended")}),e.jsx("option",{value:"limited",children:p("badge.limited")})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"displayOrder",children:"Порядок відображення"}),e.jsx(o,{id:"displayOrder",type:"number",value:a.displayOrder||0,onChange:s=>i({...a,displayOrder:parseInt(s.target.value)||0}),placeholder:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Менше значення = вище в списку. Рекомендовано: Стартовий=1, Оптимальний=2, Преміум=3"})]})]}),e.jsx(u,{value:"images",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Зображення товару"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Додайте URL зображень або завантажте файли з комп'ютера (кнопка з іконкою завантаження). Перше зображення буде основним. Можна додавати необмежену кількість."}),e.jsxs("div",{className:"space-y-3",children:[a.images.map((s,t)=>e.jsxs("div",{className:"flex gap-2 items-start",children:[e.jsx(o,{value:s,onChange:l=>{const c=[...a.images];c[t]=l.target.value,i({...a,images:c})},placeholder:"https://example.com/image.jpg або завантажте файл",className:"flex-1"}),e.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",ref:l=>j.current[t]=l,onChange:l=>X(t,l),className:"hidden",id:`file-upload-${t}`}),e.jsx(n,{type:"button",variant:"outline",size:"icon",onClick:()=>{var l;return(l=j.current[t])==null?void 0:l.click()},disabled:D===t,title:"Завантажити зображення",children:D===t?e.jsx(ce,{className:"h-4 w-4 animate-spin"}):e.jsx(pe,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex gap-1",children:[t>0&&e.jsx(n,{type:"button",variant:"outline",size:"icon",onClick:()=>{const l=[...a.images];[l[t-1],l[t]]=[l[t],l[t-1]],i({...a,images:l})},children:"↑"}),t<a.images.length-1&&e.jsx(n,{type:"button",variant:"outline",size:"icon",onClick:()=>{const l=[...a.images];[l[t],l[t+1]]=[l[t+1],l[t]],i({...a,images:l})},children:"↓"}),e.jsx(n,{type:"button",variant:"outline",size:"icon",onClick:()=>{const l=a.images.filter((c,y)=>y!==t);i({...a,images:l})},children:e.jsx(S,{className:"h-4 w-4"})})]}),s&&e.jsx("div",{className:"w-20 h-20 border rounded overflow-hidden flex-shrink-0",children:e.jsx("img",{src:s,alt:`Preview ${t+1}`,className:"w-full h-full object-cover",onError:l=>{l.target.style.display="none"}})})]},t)),e.jsxs(n,{type:"button",variant:"outline",onClick:()=>{i({...a,images:[...a.images,""]})},children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Додати зображення"]})]})]})}),e.jsx(u,{value:"features",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Що входить (по одній на рядок)"}),e.jsx(d,{value:a.features.join(`
`),onChange:s=>i({...a,features:s.target.value.split(`
`).filter(Boolean)}),rows:8,placeholder:`20 кольорів фетру (20×20 см)
Повний набір інструментів
20+ шаблонів різної складності`})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx(r,{children:"Текст додаткових позицій"}),e.jsx(o,{value:a.featuresExtraText||"",onChange:s=>i({...a,featuresExtraText:s.target.value}),placeholder:"+ ще 2 позицій"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:'Текст, який відображається після перших 3 позицій у картці товару (наприклад, "+ ще 2 позицій")'})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx(r,{children:'SVG іконка для заголовка "Що входить"'}),e.jsx(d,{value:a.sectionIconFeatures||"",onChange:s=>i({...a,sectionIconFeatures:s.target.value}),placeholder:"Вставте SVG код або URL іконки",rows:4}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Можна вставити SVG код або URL до зображення. Іконка буде відображатися перед заголовком секції."})]})]})}),e.jsx(u,{value:"materials",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Вибрані матеріали (відсортовані для цього товару)"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Використовуйте кнопки ↑ ↓ для зміни порядку відображення"}),a.materials.length>0?e.jsx("div",{className:"space-y-2",children:a.materials.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(n,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",disabled:t===0,onClick:()=>{const l=[...a.materials];[l[t-1],l[t]]=[l[t],l[t-1]],i({...a,materials:l})},children:e.jsx(V,{className:"h-3 w-3"})}),e.jsx(n,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",disabled:t===a.materials.length-1,onClick:()=>{const l=[...a.materials];[l[t],l[t+1]]=[l[t+1],l[t]],i({...a,materials:l})},children:e.jsx(G,{className:"h-3 w-3"})})]}),s.thumbnail&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:s.thumbnail,alt:s.name,className:"w-12 h-12 object-cover rounded border"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.name}),s.description&&e.jsx("div",{className:"text-sm text-muted-foreground",children:s.description})]}),e.jsx(n,{type:"button",variant:"ghost",size:"icon",onClick:()=>{i({...a,materials:a.materials.filter(l=>l.id!==s.id)})},children:e.jsx(S,{className:"h-4 w-4"})})]},s.id))}):e.jsx("div",{className:"text-sm text-muted-foreground py-4 text-center border rounded-lg",children:"Матеріали не вибрані. Додайте матеріали зі списку нижче."})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Доступні матеріали для додавання"}),I.filter(s=>!a.materials.some(t=>t.id===s.id)).length>0?e.jsx("div",{className:"space-y-2 mt-3",children:I.filter(s=>!a.materials.some(t=>t.id===s.id)).map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.thumbnail&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:s.thumbnail,alt:s.name,className:"w-12 h-12 object-cover rounded border"})}),e.jsxs(n,{type:"button",variant:"outline",size:"sm",onClick:()=>{i({...a,materials:[...a.materials,s]})},children:[e.jsx(v,{className:"h-4 w-4 mr-1"}),"Додати"]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.name}),s.description&&e.jsx("div",{className:"text-sm text-muted-foreground",children:s.description})]})]},s.id))}):e.jsx("div",{className:"text-sm text-muted-foreground py-4 text-center border rounded-lg mt-3",children:'Всі доступні матеріали додано або матеріали відсутні. Створіть нові матеріали в розділі "Матеріали".'})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx(r,{children:'SVG іконка для заголовка "Матеріали"'}),e.jsx(d,{value:a.sectionIconMaterials||"",onChange:s=>i({...a,sectionIconMaterials:s.target.value}),placeholder:"Вставте SVG код або URL іконки",rows:4}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Можна вставити SVG код або URL до зображення. Іконка буде відображатися перед заголовком секції."})]})]})}),e.jsx(u,{value:"canMake",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Що можна зробити (по одній на рядок)"}),e.jsx(d,{value:a.canMake.join(`
`),onChange:s=>i({...a,canMake:s.target.value.split(`
`).filter(Boolean)}),rows:8,placeholder:`М'які іграшки
Мобілі для малюків
Розвиваючі книжки`})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx(r,{children:'SVG іконка для заголовка "Що можна зробити"'}),e.jsx(d,{value:a.sectionIconCanMake||"",onChange:s=>i({...a,sectionIconCanMake:s.target.value}),placeholder:"Вставте SVG код або URL іконки",rows:4}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Можна вставити SVG код або URL до зображення. Іконка буде відображатися перед заголовком секції."})]})]})}),e.jsx(u,{value:"suitableFor",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Підходить для (по одній на рядок)"}),e.jsx(d,{value:a.suitableFor.join(`
`),onChange:s=>i({...a,suitableFor:s.target.value.split(`
`).filter(Boolean)}),rows:6,placeholder:`Вся родина
Садочок
Школа
Подарунок`})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx(r,{children:'SVG іконка для заголовка "Підходить для"'}),e.jsx(d,{value:a.sectionIconSuitableFor||"",onChange:s=>i({...a,sectionIconSuitableFor:s.target.value}),placeholder:"Вставте SVG код або URL іконки",rows:4}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Можна вставити SVG код або URL до зображення. Іконка буде відображатися перед заголовком секції."})]})]})}),e.jsx(u,{value:"options",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Вибрані опції (відсортовані для цього товару)"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Використовуйте кнопки ↑ ↓ для зміни порядку відображення"}),a.options.length>0?e.jsx("div",{className:"space-y-2",children:a.options.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(n,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",disabled:t===0,onClick:()=>{const l=[...a.options];[l[t-1],l[t]]=[l[t],l[t-1]],i({...a,options:l})},children:e.jsx(V,{className:"h-3 w-3"})}),e.jsx(n,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",disabled:t===a.options.length-1,onClick:()=>{const l=[...a.options];[l[t],l[t+1]]=[l[t+1],l[t]],i({...a,options:l})},children:e.jsx(G,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.name}),s.description&&e.jsx("div",{className:"text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"text-sm font-semibold text-primary mt-1",children:["+",s.price," ₴"]})]}),e.jsx(n,{type:"button",variant:"ghost",size:"icon",onClick:()=>{i({...a,options:a.options.filter(l=>l.id!==s.id)})},children:e.jsx(S,{className:"h-4 w-4"})})]},s.id))}):e.jsx("div",{className:"text-sm text-muted-foreground py-4 text-center border rounded-lg",children:"Опції не вибрані. Додайте опції зі списку нижче."})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Доступні опції для додавання"}),P.filter(s=>!a.options.some(t=>t.id===s.id)).length>0?e.jsx("div",{className:"space-y-2 mt-3",children:P.filter(s=>!a.options.some(t=>t.id===s.id)).map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsxs(n,{type:"button",variant:"outline",size:"sm",onClick:()=>{i({...a,options:[...a.options,s]})},children:[e.jsx(v,{className:"h-4 w-4 mr-1"}),"Додати"]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.name}),s.description&&e.jsx("div",{className:"text-sm text-muted-foreground",children:s.description}),e.jsxs("div",{className:"text-sm font-semibold text-primary mt-1",children:["+",s.price," ₴"]})]})]},s.id))}):e.jsx("div",{className:"text-sm text-muted-foreground py-4 text-center border rounded-lg mt-3",children:'Всі доступні опції додано або опції відсутні. Створіть нові опції в розділі "Опції".'})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx(r,{children:'SVG іконка для заголовка "Додаткові опції"'}),e.jsx(d,{value:a.sectionIconOptions||"",onChange:s=>i({...a,sectionIconOptions:s.target.value}),placeholder:"Вставте SVG код або URL іконки",rows:4}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Можна вставити SVG код або URL до зображення. Іконка буде відображатися перед заголовком секції."})]})]})})]}),e.jsxs(Z,{children:[e.jsx(n,{variant:"outline",onClick:()=>g(!1),children:"Скасувати"}),e.jsx(n,{onClick:$,children:"Зберегти"})]})]})})]})}export{Ae as Products};
