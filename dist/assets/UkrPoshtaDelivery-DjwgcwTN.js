import{r as a,j as e}from"./chunk-react-CHUe_c_M.js";import{c as d,w as _,x as k}from"./index-Dv87KhRC.js";import{I as z}from"./input-E_DkKYix.js";import{p as ee,q as te,r as le}from"./chunk-radix-BYx9rzOz.js";import{b2 as ie,ax as G,bm as M,ao as V}from"./chunk-vendor-C_GYGcpd.js";import{B as se}from"./button-Dirq6-S7.js";const re=a.forwardRef(({className:i,...f},h)=>e.jsx(ee,{className:d("grid gap-2",i),...f,ref:h}));re.displayName=ee.displayName;const J=a.forwardRef(({className:i,...f},h)=>e.jsx(te,{ref:h,className:d("aspect-square h-4 w-4 rounded-full border border-input text-primary ring-offset-background focus:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary",i),...f,children:e.jsx(le,{className:"flex items-center justify-center",children:e.jsx(ie,{className:"h-2.5 w-2.5 fill-current text-current"})})}));J.displayName=te.displayName;const pe=({cityRef:i,warehouseRef:f,deliveryType:h,isExpanded:B=!0,onCityChange:L,onWarehouseChange:O,onDeliveryTypeChange:Q,onContinue:A})=>{const[C,R]=a.useState([]),[W,D]=a.useState([]),[T,Y]=a.useState([]),[n,U]=a.useState(null),[l,o]=a.useState(null),[m,u]=a.useState(!1),[p,w]=a.useState(!1),[N,g]=a.useState(""),[j,y]=a.useState("");a.useEffect(()=>{_.getPopularCities().then(R).catch(console.error)},[]),a.useEffect(()=>{i?_.getCity(i).then(s=>{U(s)}).catch(console.error):U(null)},[i]),a.useEffect(()=>{f&&n?_.getWarehouse(f).then(s=>{o(s)}).catch(console.error):o(null)},[f,n]),a.useEffect(()=>{if(N.length>=2){const s=setTimeout(()=>{_.searchCities(N).then(D).catch(console.error)},300);return()=>clearTimeout(s)}else D([])},[N]),a.useEffect(()=>{n&&(console.log("üîÑ [NovaPoshtaDelivery] Loading warehouses for city:",{cityRef:n.ref,cityName:n.description_ua,deliveryType:h}),u(!1),g(""),D([]),w(!1),y(""),_.getWarehouses(n.ref,h).then(s=>{console.log(`‚úÖ [NovaPoshtaDelivery] Loaded ${s.length} warehouses for city ${n.ref}`),s.length>0&&console.log("üì¶ [NovaPoshtaDelivery] Sample warehouse:",s[0]),Y(s)}).catch(s=>{console.error("‚ùå [NovaPoshtaDelivery] Error loading warehouses:",s)}))},[n,h]),a.useEffect(()=>{p&&n&&(T.length===0||j)&&(console.log("üîÑ [NovaPoshtaDelivery] Loading warehouses on dropdown open"),_.getWarehouses(n.ref,h,j||void 0).then(s=>{console.log(`‚úÖ [NovaPoshtaDelivery] Loaded ${s.length} warehouses on open`),Y(s)}).catch(s=>{console.error("‚ùå [NovaPoshtaDelivery] Error loading warehouses on open:",s)}))},[p]),a.useEffect(()=>{if(p&&n&&j.length>=2){const s=setTimeout(()=>{_.getWarehouses(n.ref,h,j).then(v=>{console.log(`‚úÖ [NovaPoshtaDelivery] Search found ${v.length} warehouses`),Y(v)}).catch(v=>{console.error("‚ùå [NovaPoshtaDelivery] Search error:",v)})},300);return()=>clearTimeout(s)}},[j,p]);const $=s=>{U(s),o(null),L(s),O(null),u(!1),g("")},I=s=>{o(s),O(s),w(!1),y("")},E=N.length>=2?W:C;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3 ml-[28px]",children:e.jsxs(re,{value:h,onValueChange:s=>Q(s),className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(J,{value:"PostOffice",id:"postoffice"}),e.jsx("span",{children:"–£ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(J,{value:"Postomat",id:"postomat"}),e.jsx("span",{children:"–£ –ø–æ—à—Ç–æ–º–∞—Ç"})]})]})}),e.jsxs("fieldset",{className:"space-y-2",children:[e.jsxs("legend",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx("span",{children:"–ù–∞—Å–µ–ª–µ–Ω–∏–π –ø—É–Ω–∫—Ç"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:d("flex h-10 w-full items-center justify-between rounded-xl border border-input bg-background px-3 py-2 text-sm cursor-pointer","hover:border-primary transition-colors",!n&&"opacity-60"),onClick:()=>{u(!m),m||g("")},children:[e.jsx("span",{className:n?"text-foreground":"text-muted-foreground",children:n?n.full_description_ua:"–í–∏–±–µ—Ä—ñ—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏–π –ø—É–Ω–∫—Ç"}),e.jsx(G,{className:d("h-4 w-4 transition-transform text-muted-foreground",m&&"rotate-180")})]}),m&&e.jsxs("div",{className:"border rounded-xl bg-background overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(z,{type:"text",placeholder:"–ü–æ—á–Ω—ñ—Ç—å –≤–≤–æ–¥–∏—Ç–∏ –Ω–∞–∑–≤—É –Ω–∞—Å–µ–ª–µ–Ω–æ–≥–æ –ø—É–Ω–∫—Ç—É –≤—ñ–¥ 3-—Ö –±—É–∫–≤",value:N,onChange:s=>g(s.target.value),className:"pl-10",autoFocus:!0,onClick:s=>s.stopPropagation()})]})}),N.length<2&&C.length>0&&e.jsx("div",{className:"p-3 border-b",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:C.slice(0,5).map(s=>e.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),$(s)},className:"px-3 py-1.5 text-sm border rounded-lg",children:s.description_ua},s.ref))})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:E.length>0?e.jsx("div",{className:"p-2",children:E.map(s=>e.jsxs("button",{type:"button",onClick:v=>{v.stopPropagation(),$(s)},className:d("w-full flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer text-left",(n==null?void 0:n.ref)===s.ref&&"text-primary font-medium"),children:[(n==null?void 0:n.ref)===s.ref&&e.jsx(V,{className:"h-4 w-4 text-primary flex-shrink-0"}),e.jsx("span",{className:d("flex-1",(n==null?void 0:n.ref)===s.ref&&"text-primary"),children:s.full_description_ua})]},s.ref))}):N.length>=2?e.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"}):e.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"–ü–æ—á–Ω—ñ—Ç—å –≤–≤–æ–¥–∏—Ç–∏ –Ω–∞–∑–≤—É –º—ñ—Å—Ç–∞"})})]})]})]}),n&&e.jsxs("fieldset",{className:"space-y-2",children:[e.jsxs("legend",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx("span",{children:h==="PostOffice"?"–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è":"–ü–æ—à—Ç–æ–º–∞—Ç"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:d("flex min-h-10 w-full items-center justify-between rounded-xl border border-input bg-background px-3 py-2 text-sm cursor-pointer","hover:border-primary transition-colors",!n&&"opacity-60"),onClick:()=>{w(!p),p||y("")},children:[e.jsx("span",{className:d("flex-1 break-words pr-2",l?"text-foreground":"text-muted-foreground"),children:l?l.description_ua:h==="PostOffice"?"–í–∏–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è":"–í–∏–±–µ—Ä—ñ—Ç—å –ø–æ—à—Ç–æ–º–∞—Ç"}),e.jsx(G,{className:d("h-4 w-4 transition-transform text-muted-foreground flex-shrink-0",p&&"rotate-180")})]}),p&&e.jsxs("div",{className:"border rounded-xl bg-background overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(z,{type:"text",placeholder:h==="PostOffice"?"–í–∏–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è":"–í–∏–±–µ—Ä—ñ—Ç—å –ø–æ—à—Ç–æ–º–∞—Ç",value:j,onChange:s=>y(s.target.value),className:"pl-10 rounded-xl",autoFocus:!0,onClick:s=>s.stopPropagation()})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:T.length>0?e.jsx("ul",{className:"p-2 space-y-1",children:T.map(s=>e.jsx("li",{children:e.jsxs("button",{type:"button",onClick:v=>{v.stopPropagation(),I(s)},className:d("w-full flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer text-left",(l==null?void 0:l.ref)===s.ref&&"text-primary font-medium"),children:[(l==null?void 0:l.ref)===s.ref&&e.jsx(V,{className:"h-4 w-4 text-primary flex-shrink-0"}),e.jsx("span",{className:d("flex-1 text-sm",(l==null?void 0:l.ref)===s.ref&&"text-primary"),children:s.description_ua})]})},s.ref))}):e.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:j.length>=2?"–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ":"–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è..."})})]})]})]}),B&&A&&e.jsx("div",{className:"pt-4",children:e.jsx(se,{type:"button",onClick:A,disabled:!n||!l,variant:"outline",className:"w-full rounded-xl border h-10 hover:border hover:bg-transparent hover:text-primary disabled:hover:text-primary disabled:opacity-50",children:"–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏"})})]})},xe=({cityId:i,branchId:f,savedCityName:h,savedCityRegion:B,savedBranchName:L,savedBranchAddress:O,savedBranchPostalCode:Q,isExpanded:A=!0,onCityChange:C,onBranchChange:R,onContinue:W})=>{const[D,T]=a.useState([]),[Y,n]=a.useState([]),[U,l]=a.useState([]),[o,m]=a.useState(null),[u,p]=a.useState(null);a.useEffect(()=>{if(i&&h&&!o){let t=h,r=B||"";const c=h.match(/^(.+?)\s*\((.+?)\)$/);if(c){t=c[1].trim();const b=c[2].trim();b==="*"?r="":r=b}const x=parseInt(i.toString(),10);if(isNaN(x)||x<=0){console.log(`üîç [UkrPoshtaDelivery] Saved cityId "${i}" is not numeric, searching via API for "${t}"...`),k.searchCities(t).then(b=>{const H=S=>S?S.replace(/\s*–æ–±–ª\.?\s*$/i,"").trim():"",Z=H(r),F=b.find(S=>{const oe=S.name.toLowerCase()===t.toLowerCase(),ae=Z?H(S.region||"")===Z:!0,ne=S.cityId&&!isNaN(parseInt(S.cityId.toString(),10));return oe&&ae&&ne});if(F&&F.cityId){console.log(`‚úÖ [UkrPoshtaDelivery] Found numeric CITY_ID ${F.cityId} for saved city "${t}"`);const S={id:F.cityId.toString(),name:F.name,postalCode:"",region:F.region||r,cityId:F.cityId.toString()};m(S),C(S)}else console.warn(`‚ö†Ô∏è [UkrPoshtaDelivery] Could not find numeric CITY_ID for saved city "${t}"`),m({id:i,name:t,postalCode:"",region:r,cityId:i})}).catch(b=>{console.error(`‚ùå [UkrPoshtaDelivery] Error searching for saved city "${t}":`,b),m({id:i,name:t,postalCode:"",region:r,cityId:i})});return}const P={id:i,name:t,postalCode:"",region:r,cityId:i};m(P),console.log("‚ö° [UkrPoshtaDelivery] Instant city display from saved data:",P)}},[i,h,B,o,C]),a.useEffect(()=>{if(f&&L&&!u&&o){const t={id:f,name:L,address:O||"",postalCode:Q||"",cityId:o.id};p(t),console.log("‚ö° [UkrPoshtaDelivery] Instant branch display from saved data:",t)}},[f,L,O,Q,u,o]);const[w,N]=a.useState(!1),[g,j]=a.useState(!1),[y,$]=a.useState(""),[I,E]=a.useState("");a.useEffect(()=>{k.getPopularCities().then(T).catch(console.error)},[]),a.useEffect(()=>{if(i){const t=parseInt(i.toString(),10);if(isNaN(t)||t<=0){console.warn(`‚ö†Ô∏è [UkrPoshtaDelivery] Invalid cityId (not a numeric CITY_ID): ${i}. Skipping API call.`),m(null);return}console.log(`üîç [UkrPoshtaDelivery] Loading city by ID: ${i}`),k.getCity(i).then(r=>{console.log("‚úÖ [UkrPoshtaDelivery] Loaded city:",r),m(r)}).catch(r=>{r.message&&r.message.includes("City not found")?console.warn(`‚ö†Ô∏è [UkrPoshtaDelivery] City with ID ${i} not found in API. This may be normal if the city was removed or ID changed.`):console.error(`‚ùå [UkrPoshtaDelivery] Error loading city ${i}:`,r),m(null)})}else m(null)},[i]),a.useEffect(()=>{if(f&&o){const t=o.cityId||o.id;k.getBranch(f,t).then(r=>{p(r)}).catch(console.error)}else p(null)},[f,o]),a.useEffect(()=>{if(y.length>=2){const t=setTimeout(()=>{console.log("üîç [UkrPoshtaDelivery] Searching cities for:",y),k.searchCities(y).then(r=>{console.log(`‚úÖ [UkrPoshtaDelivery] Found ${r.length} cities:`,r),n(r)}).catch(r=>{console.error("‚ùå [UkrPoshtaDelivery] Error searching cities:",r),n([])})},300);return()=>clearTimeout(t)}else n([])},[y]),a.useEffect(()=>{if(o){const t=o.cityId,r=t?parseInt(t.toString(),10):null;if(!r||isNaN(r)){console.warn("‚ö†Ô∏è [UkrPoshtaDelivery] City does not have valid CITY_ID, trying to get it from API:",{cityName:o.name,cityId:t,id:o.id}),o.name?k.searchCities(o.name).then(c=>{const x=c.find(P=>P.name.toLowerCase()===o.name.toLowerCase()&&P.cityId&&!isNaN(parseInt(P.cityId.toString(),10)));if(x&&x.cityId){console.log("‚úÖ [UkrPoshtaDelivery] Found CITY_ID for city:",x);const P={...o,cityId:x.cityId};m(P),C(P),k.getBranches(x.cityId).then(b=>{console.log(`‚úÖ [UkrPoshtaDelivery] Loaded ${b.length} branches for city ${x.cityId}`),l(b)}).catch(b=>{console.error("‚ùå [UkrPoshtaDelivery] Error loading branches:",b),l([])})}else console.error("‚ùå [UkrPoshtaDelivery] Could not find CITY_ID for city:",o.name),l([])}).catch(c=>{console.error("‚ùå [UkrPoshtaDelivery] Error searching for city:",c),l([])}):l([]);return}console.log("üîÑ [UkrPoshtaDelivery] Loading branches for city:",{cityId:r,cityName:o.name}),N(!1),$(""),n([]),j(!1),E(""),k.getBranches(r.toString()).then(c=>{console.log(`‚úÖ [UkrPoshtaDelivery] Loaded ${c.length} branches for city ${r}`),c.length>0&&console.log("üì¶ [UkrPoshtaDelivery] Sample branch:",c[0]),l(c)}).catch(c=>{console.error("‚ùå [UkrPoshtaDelivery] Error loading branches:",c),l([])})}},[o]),a.useEffect(()=>{if(g&&o&&(U.length===0||I)){const t=o.cityId,r=t?parseInt(t.toString(),10):null;if(!r||isNaN(r)){console.warn("‚ö†Ô∏è [UkrPoshtaDelivery] Cannot load branches: invalid CITY_ID"),l([]);return}console.log("üîÑ [UkrPoshtaDelivery] Loading branches on dropdown open"),k.getBranches(r.toString(),I||void 0).then(c=>{console.log(`‚úÖ [UkrPoshtaDelivery] Loaded ${c.length} branches on open`),l(c)}).catch(c=>{console.error("‚ùå [UkrPoshtaDelivery] Error loading branches on open:",c),l([])})}},[g]),a.useEffect(()=>{if(g&&o&&I.length>=2){const t=o.cityId,r=t?parseInt(t.toString(),10):null;if(!r||isNaN(r)){console.warn("‚ö†Ô∏è [UkrPoshtaDelivery] Cannot search branches: invalid CITY_ID"),l([]);return}const c=setTimeout(()=>{k.getBranches(r.toString(),I).then(x=>{console.log(`‚úÖ [UkrPoshtaDelivery] Search found ${x.length} branches`),l(x)}).catch(x=>{console.error("‚ùå [UkrPoshtaDelivery] Search error:",x),l([])})},300);return()=>clearTimeout(c)}},[I,g]);const s=async t=>{let r=t;const c=t.cityId?parseInt(t.cityId.toString(),10):null;!c||isNaN(c)?(console.warn(`‚ö†Ô∏è [UkrPoshtaDelivery] City "${t.name}" has no numeric CITY_ID. This should not happen for popular cities from DB.`),r={...t,displayName:X(t)}):r={...t,id:t.cityId.toString(),cityId:t.cityId.toString(),displayName:X(t)},m(r),p(null),C(r),R(null),N(!1),$("")},v=t=>{p(t),R(t),j(!1),E("")},K=y.length>=2?Y:D,q=t=>!t.region||t.region.trim()===""?`${t.name} (*)`:`${t.name} (${t.region})`,X=t=>q(t);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("fieldset",{className:"space-y-2",children:[e.jsxs("legend",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx("span",{children:"–ù–∞—Å–µ–ª–µ–Ω–∏–π –ø—É–Ω–∫—Ç"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:d("flex min-h-10 w-full items-center justify-between rounded-xl border border-input bg-background px-3 py-2 text-sm cursor-pointer","hover:border-primary transition-colors",!o&&"opacity-60"),onClick:()=>{N(!w),w||$("")},children:[e.jsx("span",{className:d("flex-1 break-words pr-2",o?"text-foreground":"text-muted-foreground"),children:o?q(o):"–í–∏–±–µ—Ä—ñ—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏–π –ø—É–Ω–∫—Ç"}),e.jsx(G,{className:d("h-4 w-4 transition-transform text-muted-foreground flex-shrink-0",w&&"rotate-180")})]}),w&&e.jsxs("div",{className:"border rounded-xl bg-background overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(z,{type:"text",placeholder:"–ü–æ—á–Ω—ñ—Ç—å –≤–≤–æ–¥–∏—Ç–∏ –Ω–∞–∑–≤—É –Ω–∞—Å–µ–ª–µ–Ω–æ–≥–æ –ø—É–Ω–∫—Ç—É –≤—ñ–¥ 3-—Ö –±—É–∫–≤",value:y,onChange:t=>$(t.target.value),className:"pl-10",autoFocus:!0,onClick:t=>t.stopPropagation()})]})}),y.length<2&&D.length>0&&e.jsx("div",{className:"p-3 border-b",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:D.slice(0,5).map(t=>e.jsx("button",{type:"button",onClick:r=>{r.stopPropagation(),s(t)},className:"px-3 py-1.5 text-sm border rounded-lg",children:q(t)},t.id))})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:K.length>0?e.jsx("div",{className:"p-2",children:K.map(t=>e.jsxs("button",{type:"button",onClick:r=>{r.stopPropagation(),s(t)},className:d("w-full flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer text-left",(o==null?void 0:o.id)===t.id&&"text-primary font-medium"),children:[(o==null?void 0:o.id)===t.id&&e.jsx(V,{className:"h-4 w-4 text-primary flex-shrink-0"}),e.jsx("span",{className:d("flex-1",(o==null?void 0:o.id)===t.id&&"text-primary"),children:q(t)})]},t.id))}):y.length>=2?e.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"}):e.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"–ü–æ—á–Ω—ñ—Ç—å –≤–≤–æ–¥–∏—Ç–∏ –Ω–∞–∑–≤—É –º—ñ—Å—Ç–∞"})})]})]})]}),o&&e.jsxs("fieldset",{className:"space-y-2",children:[e.jsxs("legend",{className:"flex items-center gap-1 text-sm font-medium",children:[e.jsx("span",{children:"–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è"}),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:d("flex min-h-10 w-full items-center justify-between rounded-xl border border-input bg-background px-3 py-2 text-sm cursor-pointer","hover:border-primary transition-colors",!o&&"opacity-60"),onClick:()=>{j(!g),g||E("")},children:[e.jsx("span",{className:d("flex-1 break-words pr-2",u?"text-foreground":"text-muted-foreground"),children:u?`${u.name}, ${u.address}`:"–í–∏–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è"}),e.jsx(G,{className:d("h-4 w-4 transition-transform text-muted-foreground flex-shrink-0",g&&"rotate-180")})]}),g&&e.jsxs("div",{className:"border rounded-xl bg-background overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(z,{type:"text",placeholder:"–í–∏–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è",value:I,onChange:t=>E(t.target.value),className:"pl-10 rounded-xl",autoFocus:!0,onClick:t=>t.stopPropagation()})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:U.length>0?e.jsx("ul",{className:"p-2 space-y-1",children:U.map(t=>e.jsx("li",{children:e.jsxs("button",{type:"button",onClick:r=>{r.stopPropagation(),v(t)},className:d("w-full flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer text-left",(u==null?void 0:u.id)===t.id&&"text-primary font-medium"),children:[(u==null?void 0:u.id)===t.id&&e.jsx(V,{className:"h-4 w-4 text-primary flex-shrink-0"}),e.jsxs("span",{className:d("flex-1 text-sm",(u==null?void 0:u.id)===t.id&&"text-primary"),children:[t.name,", ",t.address]})]})},t.id))}):e.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:I.length>=2?"–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ":"–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è..."})})]})]})]}),A&&W&&e.jsx("div",{className:"pt-4",children:e.jsx(se,{type:"button",onClick:W,disabled:!o||!u,variant:"outline",className:"w-full rounded-xl border h-10 hover:border hover:bg-transparent hover:text-primary disabled:hover:text-primary disabled:opacity-50",children:"–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏"})})]})};export{pe as N,re as R,xe as U,J as a};
