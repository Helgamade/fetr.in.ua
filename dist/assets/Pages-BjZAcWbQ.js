import{r as p,j as e}from"./chunk-react-CHUe_c_M.js";import{a as N,b as v}from"./usePages-BqUZV7A0.js";import{C as i,a as g,b as y,c as C,d as l}from"./card-DcmemaXX.js";import{I as b}from"./input-E_DkKYix.js";import{B as n}from"./button-Dirq6-S7.js";import{f as w}from"./index-Dv87KhRC.js";import{B as d}from"./badge-CTncAuPo.js";import{b as L}from"./chunk-router-BMV24Bow.js";import{a_ as P,bm as _,aj as k,bu as E,bo as S,aY as B}from"./chunk-vendor-C_GYGcpd.js";import"./chunk-lottie-DoMt_38f.js";import"./chunk-query-BDB5idE8.js";import"./chunk-radix-BYx9rzOz.js";function M(){const r=L(),{toast:c}=w(),{data:m=[],isLoading:x}=N(),u=v(),[a,h]=p.useState(""),o=m.filter(s=>{if(!a.trim())return!0;const t=a.toLowerCase();return s.title.toLowerCase().includes(t)||s.slug.toLowerCase().includes(t)||s.meta_title&&s.meta_title.toLowerCase().includes(t)||s.meta_description&&s.meta_description.toLowerCase().includes(t)}),j=async(s,t)=>{if(t.stopPropagation(),!!confirm(`Ви впевнені, що хочете видалити сторінку "${s.title}"?`))try{await u.mutateAsync(s.id),c({title:"Видалено",description:"Сторінку успішно видалено"})}catch(f){c({title:"Помилка",description:f.message||"Не вдалося видалити сторінку",variant:"destructive"})}};return x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Завантаження сторінок..."})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(i,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(y,{children:"Управління сторінками"}),e.jsx(C,{children:"Створюйте та редагуйте індивідуальні сторінки сайту з унікальними URL та SEO мета-тегами"})]}),e.jsxs(n,{onClick:()=>r("/admin/pages/new"),children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Додати сторінку"]})]})}),e.jsxs(l,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(b,{placeholder:"Пошук по назві, URL, мета-тегах...",value:a,onChange:s=>h(s.target.value),className:"pl-9"})]})}),e.jsx("div",{className:"space-y-4",children:o.length>0?o.map(s=>e.jsx(i,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r(`/admin/pages/${s.id}`),children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.title}),s.is_published?e.jsxs(d,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),"Опубліковано"]}):e.jsxs(d,{variant:"secondary",children:[e.jsx(E,{className:"h-3 w-3 mr-1"}),"Чернетка"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["URL: ",e.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:["/",s.slug]})]}),s.meta_title&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Meta Title: ",s.meta_title]})]}),e.jsxs("div",{className:"flex gap-2",onClick:t=>t.stopPropagation(),children:[e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>r(`/admin/pages/${s.id}`),children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Редагувати"]}),e.jsx(n,{variant:"ghost",size:"sm",onClick:t=>j(s,t),className:"text-destructive hover:text-destructive",children:e.jsx(B,{className:"h-4 w-4"})})]})]})})},s.id)):e.jsx(i,{children:e.jsx(l,{className:"py-12 text-center text-muted-foreground",children:a?"Сторінок не знайдено":"Немає сторінок. Створіть першу сторінку."})})})]})]})})}export{M as Pages};
