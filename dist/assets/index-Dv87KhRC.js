const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Index-D5EGdKvv.js","assets/chunk-react-CHUe_c_M.js","assets/chunk-lottie-DoMt_38f.js","assets/chunk-vendor-C_GYGcpd.js","assets/StickyMobileCTA-4PgmvvPd.js","assets/button-Dirq6-S7.js","assets/chunk-radix-BYx9rzOz.js","assets/useTranslation-JvTFWNu4.js","assets/useTexts-sen_TcVY.js","assets/chunk-query-BDB5idE8.js","assets/usePublicSettings-Dw0v70Tc.js","assets/avatar-CxhghoGN.js","assets/chunk-router-BMV24Bow.js","assets/usePages-BqUZV7A0.js","assets/messengerLinks-3u5AXjn1.js","assets/checkbox-Cj7KBd3E.js","assets/useComparison-DxNLB8yb.js","assets/useGalleries-BdQOzmDH.js","assets/input-E_DkKYix.js","assets/textarea-BBXtoPox.js","assets/dateFormat-3ELii1oF.js","assets/useFAQs-Zsipasgs.js","assets/useInstagram-EfHgTjJv.js","assets/useTeam-BZpeqaVP.js","assets/Checkout-C8l-V2N5.js","assets/label-CUlRyR4d.js","assets/UkrPoshtaDelivery-DjwgcwTN.js","assets/PaymentLogos-CoVkcCba.js","assets/ThankYou-OiR_pYHq.js","assets/NotFound-JPs1s7QQ.js","assets/Page-bhe9lHtv.js","assets/Login-DjARpIQr.js","assets/card-DcmemaXX.js","assets/AuthCallback-DEaxuWS4.js","assets/AllReviews-kwIKHfG6.js","assets/select-CsJALA_M.js","assets/pagination-CP_jxI96.js","assets/Profile-CX2pp2hW.js","assets/separator-CyHtVS4T.js","assets/UserOrders-DqxkNTD8.js","assets/badge-CTncAuPo.js","assets/UserOrderDetail-CCLUo6ME.js","assets/UserMaterials-BYAE28wx.js","assets/AdminLayout-5hSqi73h.js","assets/Dashboard-BizikS2P.js","assets/useOrders-BQm_7tpr.js","assets/chunk-charts-BYFY3lFy.js","assets/Orders-fIF0w01o.js","assets/OrderDetail-xrztXfek.js","assets/dialog-CQ-l8du7.js","assets/Products-176xQ2bg.js","assets/tabs-BLPTHCEZ.js","assets/Settings-C5VDKh6z.js","assets/switch-C5BnPKBx.js","assets/Comparison-Dma06m4a.js","assets/Options-CUpAk_21.js","assets/Materials-BtDYDnDb.js","assets/Galleries-BZ1MGVbP.js","assets/Reviews-B7Swv69u.js","assets/FAQ-ZwnaUHfL.js","assets/Team-B95cwGcZ.js","assets/Instagram-CSzLk6nD.js","assets/Texts-BUaaNVHm.js","assets/Pages-BjZAcWbQ.js","assets/PageDetail-CY6S0R5f.js","assets/chunk-editor-BYq1chza.js","assets/EmailTemplates-CLQ6OQsg.js","assets/Analytics-DxCqq_5I.js","assets/SocialProof-my0ZzZj5.js"])))=>i.map(i=>d[i]);
var Se=Object.defineProperty;var Ie=(e,t,r)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var D=(e,t,r)=>Ie(e,typeof t!="symbol"?t+"":t,r);import{r as d,j as o,R as xe,d as Ee}from"./chunk-react-CHUe_c_M.js";import{V as ie,R as ce,A as de,C as le,T as ue,D as me,P as Pe,a as pe,b as be,c as Ae,d as Oe}from"./chunk-radix-BYx9rzOz.js";import{a3 as ke,f as De,a4 as je,a5 as Ce,a6 as Le,a7 as Ne,a8 as $e,a9 as Ue}from"./chunk-vendor-C_GYGcpd.js";import{u as Y,a as X,b as ee,Q as Re,c as Fe}from"./chunk-query-BDB5idE8.js";import{u as te,N as Ve,B as Me,R as qe,a as g}from"./chunk-router-BMV24Bow.js";import"./chunk-lottie-DoMt_38f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();const Je="modulepreload",ze=function(e){return"/"+e},se={},f=function(t,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(r.map(u=>{if(u=ze(u),u in se)return;se[u]=!0;const h=u.endsWith(".css"),_=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${_}`))return;const T=document.createElement("link");if(T.rel=h?"stylesheet":Je,h||(T.as="script"),T.crossOrigin="",T.href=u,c&&T.setAttribute("nonce",c),document.head.appendChild(T),h)return new Promise((y,v)=>{T.addEventListener("load",y),T.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return n.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},Be=1,He=1e6;let W=0;function Ke(){return W=(W+1)%Number.MAX_SAFE_INTEGER,W.toString()}const Q=new Map,ne=e=>{if(Q.has(e))return;const t=setTimeout(()=>{Q.delete(e),V({type:"REMOVE_TOAST",toastId:e})},He);Q.set(e,t)},We=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Be)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ne(r):e.toasts.forEach(s=>{ne(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},q=[];let J={toasts:[]};function V(e){J=We(J,e),q.forEach(t=>{t(J)})}function Qe({...e}){const t=Ke(),r=n=>V({type:"UPDATE_TOAST",toast:{...n,id:t}}),s=()=>V({type:"DISMISS_TOAST",toastId:t});return V({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||s()}}}),{id:t,dismiss:s,update:r}}function Ze(){const[e,t]=d.useState(J);return d.useEffect(()=>(q.push(t),()=>{const r=q.indexOf(t);r>-1&&q.splice(r,1)}),[e]),{...e,toast:Qe,dismiss:r=>V({type:"DISMISS_TOAST",toastId:r})}}function L(...e){return ke(De(e))}function Tr(e){return Math.round(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function vr(){const t=new Date().toLocaleDateString("en-CA",{timeZone:"Europe/Kyiv"}),[r,s,n]=t.split("-").map(Number),a=Date.UTC(r,s-1,n,12,0,0),l=new Intl.DateTimeFormat("en",{timeZone:"Europe/Kyiv",hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(new Date(a)),u=parseInt(l.find(_=>_.type==="hour").value)-12;return new Date(Date.UTC(r,s-1,n,23-u,59,59,999))}function Ge(){const e=new Date;e.toLocaleString("en-CA",{timeZone:"Europe/Kyiv"});const t=e.toLocaleString("en-US",{timeZone:"Europe/Kyiv",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).split(/[\/,\s:]+/),[r,s,n,a,l,c]=t.map(Number),u=new Date(Date.UTC(n,r-1,s,a,l,c)),h=e.toLocaleDateString("en-US",{timeZone:"Europe/Kyiv",weekday:"long"}),T={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6}[h]??0,y=T>=1&&T<=5;return{date:u,hour:a,dayOfWeek:T,isWeekday:y}}function _r(){const{hour:e,dayOfWeek:t,isWeekday:r}=Ge(),s=["неділю","понеділок","вівторок","середу","четвер","п'ятницю","суботу"];if(r&&e<16){const P=new Date,E=P.toLocaleDateString("en-CA",{timeZone:"Europe/Kyiv"}),[N,b,A]=E.split("-").map(Number),R=new Date(Date.UTC(N,b-1,A,12,0,0)),H=new Intl.DateTimeFormat("en",{timeZone:"Europe/Kyiv",hour:"2-digit",hour12:!1}).formatToParts(R),K=parseInt(H.find(p=>p.type==="hour").value)-12,m=new Date(Date.UTC(N,b-1,A,16-K,0,0,0));return{date:P,dayName:s[t],isToday:!0,isTomorrow:!1,deadlineDate:m}}let n=1;r?t===5?n=3:n=1:n=t===0?1:8-t;const a=new Date;a.setDate(a.getDate()+n);const l=(t+n)%7,u=new Date().toLocaleDateString("en-CA",{timeZone:"Europe/Kyiv"}),h=a.toLocaleDateString("en-CA",{timeZone:"Europe/Kyiv"}),_=u.split("-").map(Number),T=h.split("-").map(Number),y=new Date(_[0],_[1]-1,_[2]),k=new Date(T[0],T[1]-1,T[2]).getTime()-y.getTime(),U=Math.round(k/(1e3*60*60*24));return{date:a,dayName:s[l],isToday:!1,isTomorrow:U===1,deadlineDate:null}}function Sr(e,t){const r=new Date,s=parseInt(r.toLocaleString("en-US",{timeZone:"Europe/Kyiv",hour:"2-digit",hour12:!1}));let n;t>=1500?n=10:t>=1200?n=8:t>=700?n=6:n=Math.max(3,Math.floor(t/100));const a=(s+24-6)%24,l=.15+.85*Math.pow(Math.sin(Math.PI*a/15),2);let c,u;s>=2&&s<6?(c=0,u=2):s>=0&&s<2||s>=6&&s<7?(c=1,u=2):s>=7&&s<9?(c=1,u=8):s>=9&&s<21?(c=3,u=15):(c=1,u=8);const h=.8+.4*(Math.log10(Math.max(100,t)/100)/Math.log10(16)),y=(((e+Math.floor(r.getTime()/(1e3*60*60)))*9301+49297)%233280/233280-.5)*2;if(s>=2&&s<6){let P;t>=1500?P=1:t>=1200?P=2:t>=700?P=3:P=4;let E;P===1?E=2:P===2?E=1:E=0;const N=e%3-1;return E=E+N,E=Math.max(0,Math.min(2,E)),E}let v=n*l*h+y;v=Math.round(v),v=Math.max(c,Math.min(u,v));let k;t>=1500?k=1:t>=1200?k=0:t>=700?k=-1:k=-2,v=v+k,v=Math.max(c,Math.min(u,v));const U=(e%3-1)*.3;return v=Math.round(v+U),v=Math.max(c,Math.min(u,v)),v}function Ir(e){const t=e.dailySalesTarget||5,r=new Date,s=new Date(r.toLocaleString("en-US",{timeZone:"Europe/Kyiv"})),n=s.getHours()+s.getMinutes()/60;let a=0;if(n>=0&&n<7)a=.01+n/7*.01;else if(n>=7&&n<9)a=.05+(n-7)/2*.1;else if(n>=9&&n<21){const c=(n-9)/12,u=Math.sin((c-.4)*Math.PI*2)*.3+.7;a=.15+c*.85*u}else a=.15-(n-21)/3*.14;const l=Math.floor(t*a);return Math.max(0,l)}const Ye=Pe,ge=d.forwardRef(({className:e,...t},r)=>o.jsx(ie,{ref:r,className:L("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ge.displayName=ie.displayName;const Xe=Ce("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fe=d.forwardRef(({className:e,variant:t,...r},s)=>o.jsx(ce,{ref:s,className:L(Xe({variant:t}),e),...r}));fe.displayName=ce.displayName;const et=d.forwardRef(({className:e,...t},r)=>o.jsx(de,{ref:r,className:L("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));et.displayName=de.displayName;const he=d.forwardRef(({className:e,...t},r)=>o.jsx(le,{ref:r,className:L("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(je,{className:"h-4 w-4"})}));he.displayName=le.displayName;const ye=d.forwardRef(({className:e,...t},r)=>o.jsx(ue,{ref:r,className:L("text-sm font-semibold",e),...t}));ye.displayName=ue.displayName;const we=d.forwardRef(({className:e,...t},r)=>o.jsx(me,{ref:r,className:L("text-sm opacity-90",e),...t}));we.displayName=me.displayName;function tt(){const{toasts:e}=Ze();return o.jsxs(Ye,{children:[e.map(function({id:t,title:r,description:s,action:n,...a}){return o.jsxs(fe,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(ye,{children:r}),s&&o.jsx(we,{children:s})]}),n,o.jsx(he,{})]},t)}),o.jsx(ge,{})]})}const rt=({...e})=>{const{theme:t="system"}=Le();return o.jsx(Ne,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},ot=be,xr=Ae,Er=Oe,st=d.forwardRef(({className:e,sideOffset:t=4,...r},s)=>o.jsx(pe,{ref:s,sideOffset:t,className:L("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));st.displayName=pe.displayName;const C="/api";function G(){return localStorage.getItem("accessToken")}function nt(){return localStorage.getItem("refreshToken")}async function ae(){const e=nt();if(!e)return null;try{const t=await fetch(`${C}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({refreshToken:e})});if(!t.ok)return null;const r=await t.json();return r.accessToken?(localStorage.setItem("accessToken",r.accessToken),r.refreshToken&&localStorage.setItem("refreshToken",r.refreshToken),r.user&&localStorage.setItem("user",JSON.stringify(r.user)),r.accessToken):null}catch(t){return console.error("[API] Token refresh failed:",t),null}}async function i(e,t){let r=G();const s=async a=>fetch(`${C}${e}`,{headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{},...t==null?void 0:t.headers},credentials:"include",...t});let n=await s(r);if(n.status===401&&r){const a=await ae();if(a)n=await s(a);else{await new Promise(c=>setTimeout(c,1e3));const l=await ae();if(l)n=await s(l);else{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user");const c=await n.json().catch(()=>({error:"Unauthorized"}));throw new Error(c.error||"Unauthorized")}}}if(!n.ok){const a=await n.json().catch(()=>({error:"Network error"}));throw new Error(a.error||`HTTP error! status: ${n.status}`)}return n.json()}const B={getAll:()=>i("/products"),getById:e=>i(`/products/${e}`),create:e=>i("/products",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>i(`/products/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>i(`/products/${e}`,{method:"DELETE"})},at={getAll:()=>i("/options"),getById:e=>i(`/options/${e}`),create:e=>i("/options",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>i(`/options/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>i(`/options/${e}`,{method:"DELETE"})},it={getAll:()=>i("/materials"),getById:e=>i(`/materials/${e}`),create:async e=>{const t=new FormData;t.append("name",e.name),e.description&&t.append("description",e.description),e.image&&t.append("image",e.image);const r=G(),s=await fetch(`${C}/materials`,{method:"POST",headers:{...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:t});if(!s.ok){const n=await s.json().catch(()=>({error:"Network error"}));throw new Error(n.error||`HTTP error! status: ${s.status}`)}return s.json()},update:async(e,t)=>{const r=new FormData;r.append("name",t.name),t.description&&r.append("description",t.description),t.image&&r.append("image",t.image),t.sortOrder!==void 0&&r.append("sortOrder",String(t.sortOrder));const s=G(),n=await fetch(`${C}/materials/${e}`,{method:"PUT",headers:{...s?{Authorization:`Bearer ${s}`}:{}},credentials:"include",body:r});if(!n.ok){const a=await n.json().catch(()=>({error:"Network error"}));throw new Error(a.error||`HTTP error! status: ${n.status}`)}return n.json()},delete:e=>i(`/materials/${e}`,{method:"DELETE"})},ct={getAll:()=>i("/orders"),getById:e=>i(`/orders/${e}`),getOrder:e=>i(`/orders/${e}`),getByTrackingToken:e=>i(`/orders/track/${e}`),getHistory:e=>i(`/orders/${e}/history`),create:e=>i("/orders",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>i(`/orders/${e}`,{method:"PUT",body:JSON.stringify(t)}),updateStatus:(e,t)=>i(`/orders/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})})},re={getAll:()=>i("/settings"),getPublic:()=>i("/settings/public"),getByKey:e=>i(`/settings/${e}`),update:(e,t)=>i(`/settings/${e}`,{method:"PUT",body:JSON.stringify({value:t})}),updateMultiple:e=>i("/settings",{method:"PUT",body:JSON.stringify(e)}),uploadHeroBackground:async e=>{const t=new FormData;t.append("image",e);const r=await fetch(`${C}/settings/upload-hero-background`,{method:"POST",body:t});if(!r.ok){const s=await r.json().catch(()=>({error:"Network error"}));throw new Error(s.error||`HTTP error! status: ${r.status}`)}return r.json()}},dt={getAll:()=>i("/pages"),getBySlug:e=>i(`/pages/${e}`),create:e=>i("/pages",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>i(`/pages/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>i(`/pages/${e}`,{method:"DELETE"})},lt={getAll:(e=!0)=>i(`/faqs${e?"?published=true":""}`),getById:e=>i(`/faqs/${e}`),create:e=>i("/faqs",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>i(`/faqs/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>i(`/faqs/${e}`,{method:"DELETE"})},ut={getAll:()=>i("/reviews"),getStats:()=>i("/reviews/stats"),getAllWithFilters:e=>{const t=new URLSearchParams;e!=null&&e.rating&&t.append("rating",e.rating.toString()),e!=null&&e.sort&&t.append("sort",e.sort),e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString());const r=t.toString();return i(`/reviews/all-public${r?`?${r}`:""}`)},getById:e=>i(`/reviews/${e}`),create:e=>i("/reviews",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>i(`/reviews/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>i(`/reviews/${e}`,{method:"DELETE"})},mt={getAll:()=>i("/team"),getById:e=>i(`/team/${e}`),create:e=>i("/team",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>i(`/team/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>i(`/team/${e}`,{method:"DELETE"})},pt={getAll:()=>i("/instagram"),getById:e=>i(`/instagram/${e}`),create:e=>i("/instagram",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>i(`/instagram/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>i(`/instagram/${e}`,{method:"DELETE"})},gt={getAll:(e=!1)=>i(`/galleries?published=${e}`),getById:(e,t=!1)=>i(`/galleries/${e}?published=${t}`),create:e=>i("/galleries",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>i(`/galleries/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>i(`/galleries/${e}`,{method:"DELETE"}),uploadImage:async(e,t,r,s,n)=>{const a=new FormData;a.append("image",t),r&&a.append("title",r),s&&a.append("description",s),n!==void 0&&a.append("sort_order",n.toString());const l=await fetch(`${C}/galleries/${e}/images`,{method:"POST",body:a});if(!l.ok){const c=await l.json().catch(()=>({error:"Network error"}));throw new Error(c.error||`HTTP error! status: ${l.status}`)}return l.json()},updateImage:(e,t,r)=>i(`/galleries/${e}/images/${t}`,{method:"PUT",body:JSON.stringify(r)}),deleteImage:(e,t)=>i(`/galleries/${e}/images/${t}`,{method:"DELETE"})},ft={getAll:()=>i("/comparison"),updateValue:(e,t,r)=>i("/comparison/value",{method:"PUT",body:JSON.stringify({featureKey:e,productId:t,value:r})}),createFeature:e=>i("/comparison/feature",{method:"POST",body:JSON.stringify({key:e.key,label:e.label,type:e.type,sortOrder:e.sortOrder})}),updateFeature:e=>i(`/comparison/feature/${e.key}`,{method:"PUT",body:JSON.stringify({label:e.label,type:e.type,sortOrder:e.sortOrder})}),deleteFeature:e=>i(`/comparison/feature/${e}`,{method:"DELETE"})},ht={getPopularCities:()=>i("/nova-poshta/cities/popular"),searchCities:e=>i(`/nova-poshta/cities/search?q=${encodeURIComponent(e)}`),getCity:e=>i(`/nova-poshta/cities/${e}`),getWarehouses:(e,t,r)=>{const s=new URLSearchParams({cityRef:e});return t&&s.append("type",t),r&&s.append("search",r),i(`/nova-poshta/warehouses?${s.toString()}`)},getWarehouse:e=>i(`/nova-poshta/warehouses/${e}`)},yt={getPopularCities:()=>i("/ukrposhta/cities/popular"),searchCities:e=>i(`/ukrposhta/cities/search?q=${encodeURIComponent(e)}`),getCity:e=>i(`/ukrposhta/cities/${e}`),getBranches:(e,t)=>{const r=new URLSearchParams({cityId:e});return t&&r.append("search",t),i(`/ukrposhta/branches?${r.toString()}`)},getBranch:(e,t)=>{const r=t?`/ukrposhta/branches/${e}?cityId=${t}`:`/ukrposhta/branches/${e}`;return i(r)}},wt={createPayment:e=>i("/wayforpay/create-payment",{method:"POST",body:JSON.stringify({orderId:e})}),checkPaymentStatus:e=>i("/wayforpay/check-status",{method:"POST",body:JSON.stringify({orderId:e})})},Tt={getAll:()=>i("/email-templates"),getByEventType:e=>i(`/email-templates/${e}`),update:(e,t)=>i(`/email-templates/${e}`,{method:"PUT",body:JSON.stringify(t)}),test:(e,t,r)=>i(`/email-templates/${e}/test`,{method:"POST",body:JSON.stringify({testEmail:t,testData:r})})},vt={validate:(e,t)=>i("/promo/validate",{method:"POST",body:JSON.stringify({code:e,items:t})})},z={googleLogin:()=>{window.location.href=`${C}/auth/google`},refresh:e=>i("/auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:e})}),logout:()=>i("/auth/logout",{method:"POST"}),me:()=>i("/auth/me"),getSessions:()=>i("/auth/sessions"),deleteSession:e=>i(`/auth/sessions/${e}`,{method:"DELETE"}),linkOrders:()=>i("/auth/link-orders",{method:"POST"})},Pr=Object.freeze(Object.defineProperty({__proto__:null,authAPI:z,comparisonAPI:ft,emailTemplatesAPI:Tt,faqsAPI:lt,fetchAPI:i,galleriesAPI:gt,instagramAPI:pt,materialsAPI:it,novaPoshtaAPI:ht,optionsAPI:at,ordersAPI:ct,pagesAPI:dt,productsAPI:B,promoAPI:vt,reviewsAPI:ut,settingsAPI:re,teamAPI:mt,ukrposhtaAPI:yt,wayforpayAPI:wt},Symbol.toStringTag,{value:"Module"}));function _t(){return Y({queryKey:["products"],queryFn:()=>B.getAll()})}function br(){const e=X();return ee({mutationFn:({id:t,data:r})=>B.update(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["products"]}),e.invalidateQueries({queryKey:["products",r.id]})}})}function Ar(){const e=X();return ee({mutationFn:t=>B.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:["products"]})}})}function St(){return Y({queryKey:["settings"],queryFn:()=>re.getAll()})}function Or(){const e=X();return ee({mutationFn:t=>re.updateMultiple(t),onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]})}})}let It=class{constructor(){D(this,"sessionId");D(this,"fingerprint");D(this,"currentPageViewId",null);D(this,"pageStartTime",Date.now());D(this,"scrollDepth",0);D(this,"clicksCount",0);D(this,"heartbeatInterval",null);D(this,"isInitialized",!1);this.sessionId=this.getOrCreateSessionId(),this.fingerprint=this.generateFingerprint()}async init(){if(!this.isInitialized&&!window.location.pathname.startsWith("/admin"))try{const t=new URLSearchParams(window.location.search),r={utmSource:t.get("utm_source")||void 0,utmMedium:t.get("utm_medium")||void 0,utmCampaign:t.get("utm_campaign")||void 0,utmTerm:t.get("utm_term")||void 0,utmContent:t.get("utm_content")||void 0};r.utmSource&&sessionStorage.setItem("utm_data",JSON.stringify(r));const s=sessionStorage.getItem("utm_data"),n=s?JSON.parse(s):r;await this.createOrUpdateSession({...n,referrer:document.referrer||void 0,landingPage:window.location.href,deviceType:this.getDeviceType(),browser:this.getBrowser(),os:this.getOS(),screenResolution:`${window.screen.width}x${window.screen.height}`,language:navigator.language}),await this.trackFunnel({stage:"visited_site"}),await this.trackPageView(),this.setupEventListeners(),this.startHeartbeat(),this.isInitialized=!0}catch(t){console.error("Analytics init error:",t)}}async createOrUpdateSession(t){try{const r=this.getUserId(),s=this.getCartItemsCount();await fetch("/api/analytics/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId,fingerprint:this.fingerprint,userId:r,cartItemsCount:s,...t})})}catch(r){console.error("Error creating/updating session:",r)}}async trackPageView(){try{if(window.location.pathname.startsWith("/admin"))return;this.currentPageViewId&&await this.endPageView();const r=this.getPageType(),s=this.getProductIdFromUrl(),n=window.location.pathname,l=n==="/checkout"?800:50;console.log(`[Analytics] trackPageView: path=${n}, delay=${l}ms`),await new Promise(y=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(y,l)})})});let c=document.title;const u=document.querySelector('meta[property="og:title"]');if(u){const y=u.getAttribute("content");y&&y!=="Lovable App"&&y.trim()!==""&&(c=y)}if(c==="Lovable App"||c===""||!c)if(document.title&&document.title!=="Lovable App"&&document.title.trim()!=="")c=document.title;else{const y=this.getPageTitleByType(r);if(r==="admin"&&y.includes("Адмін-панель")){const v=this.getAdminPageTitle();v?c=v:c=y}else c=y}const h=window.location.pathname;if((h.startsWith("/user/")||h==="/cart"||h==="/checkout")&&(c==="Lovable App"||!c||c.trim()==="")){const y=this.getPageTitleByType(r);y&&y!=="Lovable App"&&(c=y)}console.log(`[Analytics] trackPageView: final title="${c}", path="${h}", type="${r}"`);const T=await(await fetch("/api/analytics/page-view",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId,pageUrl:window.location.pathname,pageTitle:c,pageType:r,productId:s})})).json();this.currentPageViewId=T.id,this.pageStartTime=Date.now(),this.scrollDepth=0,this.clicksCount=0,this.sendToGA4("page_view",{page_title:c,page_location:window.location.href,page_path:window.location.pathname})}catch(t){console.error("Error tracking page view:",t)}}async endPageView(){if(this.currentPageViewId)try{const t=Math.floor((Date.now()-this.pageStartTime)/1e3);await fetch(`/api/analytics/page-view/${this.currentPageViewId}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeSpent:t,scrollDepth:this.scrollDepth,clicksCount:this.clicksCount})})}catch(t){console.error("Error ending page view:",t)}}async trackEvent(t){try{const r=this.getUserId();let s=null;if(t.eventType==="add_to_cart"||t.eventType==="remove_from_cart"||t.eventType==="quick_add_to_cart"||t.eventType==="update_cart_quantity")if(t.eventData&&typeof t.eventData=="object"&&"cartItemsCount"in t.eventData)s=t.eventData.cartItemsCount,console.log("[Analytics trackEvent] cartItemsCount from eventData:",s);else try{const a=localStorage.getItem("fetr-cart");if(a){const l=JSON.parse(a);Array.isArray(l)&&(s=l.reduce((c,u)=>c+(u.quantity||1),0),console.log("[Analytics trackEvent] cartItemsCount calculated from localStorage:",s,"items:",l))}else console.log("[Analytics trackEvent] No cart data in localStorage")}catch(a){console.error("[Analytics trackEvent] Error parsing cart from localStorage:",a)}const n={sessionId:this.sessionId,userId:r,eventType:t.eventType,eventCategory:t.eventCategory,eventLabel:t.eventLabel,eventData:t.eventData,productId:t.productId!==void 0?t.productId:null,orderId:t.orderId,eventValue:t.eventValue,cartItemsCount:s!==null?s:void 0};console.log("[Analytics] trackEvent:",t.eventType,"| cartItemsCount:",n.cartItemsCount),await fetch("/api/analytics/event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),this.sendToGA4(t.eventType,{event_category:t.eventCategory,event_label:t.eventLabel,value:t.eventValue,...t.eventData})}catch(r){console.error("Error tracking event:",r)}}async trackFunnel(t){try{const r=this.getUserId();await fetch("/api/analytics/funnel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId,userId:r,...t})})}catch(r){console.error("Error tracking funnel:",r)}}getOrCreateSessionId(){let t=sessionStorage.getItem("analytics_session_id");return t||(t=crypto.randomUUID(),sessionStorage.setItem("analytics_session_id",t)),t}generateFingerprint(){const t=document.createElement("canvas"),r=t.getContext("2d");r&&(r.textBaseline="top",r.font="14px Arial",r.fillText("Fingerprint",2,2));const s=[navigator.userAgent,navigator.language,screen.colorDepth,screen.width,screen.height,new Date().getTimezoneOffset(),!!window.sessionStorage,!!window.localStorage,t.toDataURL()].join("|");let n=0;for(let a=0;a<s.length;a++){const l=s.charCodeAt(a);n=(n<<5)-n+l,n=n&n}return Math.abs(n).toString(36)}getDeviceType(){const t=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(t)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)?"mobile":"desktop"}getBrowser(){const t=navigator.userAgent;return t.includes("Firefox")?"Firefox":t.includes("Chrome")?"Chrome":t.includes("Safari")?"Safari":t.includes("Edge")?"Edge":t.includes("Opera")?"Opera":"Unknown"}getOS(){const t=navigator.userAgent;return t.includes("Windows")?"Windows":t.includes("Mac")?"MacOS":t.includes("Linux")?"Linux":t.includes("Android")?"Android":t.includes("iOS")?"iOS":"Unknown"}getPageType(){const t=window.location.pathname;return t==="/"?"home":t.startsWith("/product/")?"product":t.startsWith("/category/")?"category":t==="/checkout"?"checkout":t==="/cart"?"cart":t==="/thank-you"?"thank_you":t.startsWith("/user/")?"user":t.startsWith("/admin/")?"admin":"other"}getProductIdFromUrl(){const t=window.location.pathname.match(/\/product\/(\d+)/);return t?parseInt(t[1]):void 0}getPageTitleByType(t){const r=window.location.pathname;return r==="/user/profile"?"Мій профіль | FetrInUA":r==="/user/orders"?"Мої замовлення | FetrInUA":r.startsWith("/user/orders/")?`Замовлення ${r.split("/").pop()} | FetrInUA`:r==="/user/materials"?"Мої матеріали | FetrInUA":{home:"FetrInUA — Набори для творчості з фетру | Купити в Україні",product:"Товар | FetrInUA",category:"Категорія | FetrInUA",checkout:"Оформлення замовлення | FetrInUA",cart:"Кошик | FetrInUA",thank_you:"Дякуємо за замовлення | FetrInUA",user:"Особистий кабінет | FetrInUA",admin:"Адмін-панель | FetrInUA"}[t]||"FetrInUA — Набори для творчості з фетру"}getAdminPageTitle(){const t=window.location.pathname;if(t==="/admin"||t==="/admin/")return null;const r={"/admin/dashboard":"Панель управління | FetrInUA","/admin/orders":"Замовлення | FetrInUA","/admin/products":"Товари | FetrInUA","/admin/analytics":"Аналітика | FetrInUA","/admin/settings":"Налаштування | FetrInUA","/admin/reviews":"Відгуки | FetrInUA","/admin/faq":"FAQ | FetrInUA","/admin/pages":"Сторінки | FetrInUA","/admin/galleries":"Галереї | FetrInUA","/admin/comparison":"Порівняння | FetrInUA","/admin/options":"Опції товарів | FetrInUA","/admin/team":"Команда | FetrInUA","/admin/instagram":"Instagram | FetrInUA","/admin/texts":"Тексти | FetrInUA","/admin/email-templates":"Шаблони email | FetrInUA"};return r[t]?r[t]:t.startsWith("/admin/orders/")?`Замовлення ${t.split("/").pop()} | FetrInUA`:t.startsWith("/admin/products/")?"Редагування товару | FetrInUA":t.startsWith("/admin/pages/")?"Редагування сторінки | FetrInUA":null}getUserId(){try{const t=localStorage.getItem("user");if(t)return JSON.parse(t).id}catch{}}getCartItemsCount(){try{const t=localStorage.getItem("cart");if(t)return JSON.parse(t).length||0}catch{}return 0}setupEventListeners(){let t;window.addEventListener("scroll",()=>{clearTimeout(t),t=setTimeout(()=>{const n=window.pageYOffset||document.documentElement.scrollTop,a=document.documentElement.scrollHeight-window.innerHeight,l=Math.round(n/a*100);l>this.scrollDepth&&(this.scrollDepth=l)},100)}),document.addEventListener("click",()=>{this.clicksCount++}),window.addEventListener("beforeunload",()=>{this.endPageView(),this.markOffline()});let r;const s=()=>{clearTimeout(r),r=setTimeout(()=>{this.markOffline()},5*60*1e3)};document.addEventListener("mousemove",s),document.addEventListener("keydown",s),document.addEventListener("scroll",s),document.addEventListener("click",s),s()}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.createOrUpdateSession({cartItemsCount:this.getCartItemsCount()})},3e4)}async markOffline(){try{await fetch(`/api/analytics/session/${this.sessionId}/offline`,{method:"POST"})}catch{}this.heartbeatInterval&&clearInterval(this.heartbeatInterval)}sendToGA4(t,r){typeof window<"u"&&window.gtag&&window.gtag("event",t,r)}destroy(){this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.endPageView(),this.markOffline()}};const M=new It,Z=e=>M.trackEvent(e),xt=e=>M.trackFunnel(e),Te=d.createContext(void 0),Et=({children:e})=>{const{data:t=[]}=_t(),{data:r={}}=St(),s=parseInt(r.free_delivery_threshold)||1500,n=parseInt(r.delivery_cost)||70,a=()=>`cart_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,l=m=>m.map(p=>p.id?p:{...p,id:a()}),[c,u]=d.useState(()=>{const m=localStorage.getItem("fetr-cart");if(!m)return[];try{const p=JSON.parse(m);return l(Array.isArray(p)?p:[])}catch{return[]}}),[h,_]=d.useState(!1);d.useEffect(()=>{localStorage.setItem("fetr-cart",JSON.stringify(c))},[c]);const T=d.useCallback((m,p)=>{const w=[...p].sort(),S=c.find(x=>{if(x.productId!==m)return!1;const j=[...x.selectedOptions].sort();return JSON.stringify(j)===JSON.stringify(w)});let I=c.reduce((x,j)=>x+(j.quantity||1),0);I+=1,Z({eventType:"add_to_cart",eventCategory:"ecommerce",productId:parseInt(m),eventData:{options:p,cartItemsCount:I}}),xt({stage:"added_to_cart"}),u(x=>{const j=[...p].sort(),$=x.find(O=>{if(O.productId!==m)return!1;const _e=[...O.selectedOptions].sort();return JSON.stringify(_e)===JSON.stringify(j)});return $?x.map(O=>([...O.selectedOptions].sort(),O.id===$.id?{...O,quantity:O.quantity+1}:O)):[...x,{id:a(),productId:m,quantity:1,selectedOptions:p}]}),_(!0)},[c]),y=d.useCallback(m=>{const p=c.find(w=>w.id===m);if(p){const w=c.reduce((S,I)=>I.id===m?S:S+(I.quantity||1),0);Z({eventType:"remove_from_cart",eventCategory:"ecommerce",productId:parseInt(p.productId),eventData:{cartItemsCount:w}})}u(w=>w.filter(S=>S.id!==m))},[c]),v=d.useCallback((m,p)=>{if(p<=0){y(m);return}const w=c.find(S=>S.id===m);if(w){const S=c.reduce((I,x)=>x.id===m?I+p:I+(x.quantity||1),0);Z({eventType:"update_cart_quantity",eventCategory:"ecommerce",productId:parseInt(w.productId),eventData:{quantity:p,cartItemsCount:S}})}u(S=>S.map(I=>I.id===m?{...I,quantity:p}:I))},[c,y]),k=d.useCallback((m,p)=>{u(w=>w.map(S=>S.id===m?{...S,selectedOptions:p}:S))},[]),U=d.useCallback(()=>{u([])},[]),P=d.useCallback(()=>_(m=>!m),[]),E=d.useCallback(()=>_(!0),[]),N=d.useCallback(()=>_(!1),[]),b=d.useCallback(()=>c.reduce((m,p)=>{const w=t.find(x=>x.code===p.productId);if(!w)return m;const S=w.basePrice,I=p.selectedOptions.reduce((x,j)=>{const $=w.options.find(O=>O.code===j);return x+(($==null?void 0:$.price)||0)},0);return m+(S+I)*p.quantity},0),[c,t]),A=d.useCallback(()=>c.reduce((m,p)=>{const w=t.find(S=>S.code===p.productId);return!w||!w.salePrice?m:m+(w.basePrice-w.salePrice)*p.quantity},0),[c,t]),R=d.useCallback(()=>{const m=b(),p=A();return m-p>=s?0:n},[b,A]),H=d.useCallback(()=>{const m=b(),p=A(),w=R();return m-p+w},[b,A,R]),oe=d.useCallback(()=>c.reduce((m,p)=>m+p.quantity,0),[c]),K=d.useCallback(()=>{const m=b(),p=A(),w=m-p;return Math.max(0,s-w)},[b,A]);return o.jsx(Te.Provider,{value:{items:c,isOpen:h,addToCart:T,removeFromCart:y,updateQuantity:v,updateOptions:k,clearCart:U,toggleCart:P,openCart:E,closeCart:N,getSubtotal:b,getDiscount:A,getDeliveryCost:R,getTotal:H,getItemCount:oe,amountToFreeDelivery:K},children:e})},Dr=()=>{const e=d.useContext(Te);if(!e)throw new Error("useCart must be used within a CartProvider");return e},ve=d.createContext(void 0);function Pt({children:e}){const[t,r]=d.useState(null),[s,n]=d.useState(!0),a=d.useCallback((u,h,_)=>{localStorage.setItem("accessToken",u),localStorage.setItem("refreshToken",h),localStorage.setItem("user",JSON.stringify(_)),r(_),window.dispatchEvent(new StorageEvent("storage",{key:"accessToken",newValue:u,storageArea:localStorage}))},[]),l=d.useCallback(async()=>{try{await z.logout()}catch(u){console.error("[Auth] Logout error:",u)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),r(null)}},[]),c=d.useCallback(async()=>{try{const u=localStorage.getItem("refreshToken");if(!u)throw new Error("No refresh token");const h=await z.refresh(u);a(h.accessToken,h.refreshToken||u,h.user)}catch(u){console.error("[Auth] Refresh error:",u)}},[a]);return d.useEffect(()=>{(async()=>{try{const h=localStorage.getItem("accessToken"),_=localStorage.getItem("user");if(h&&_)try{const T=await z.me();r(T)}catch{await c()}}catch(h){console.error("[Auth] Init error:",h),await l()}finally{n(!1)}})()},[c,l]),o.jsx(ve.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:s,login:a,logout:l,refreshAuth:c},children:e})}function bt(){const e=d.useContext(ve);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function F({children:e,requireAdmin:t=!1}){const{isAuthenticated:r,user:s,isLoading:n}=bt(),a=te();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx($e,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),o.jsx("h2",{className:"text-xl font-semibold",children:"Перевірка авторизації..."})]})}):!r||!s?o.jsx(Ve,{to:"/login",state:{from:a},replace:!0}):t&&s.role!=="admin"?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 p-4",children:o.jsxs("div",{className:"bg-card p-8 rounded-lg shadow-lg text-center space-y-4 max-w-md",children:[o.jsx("h1",{className:"text-2xl font-bold text-destructive",children:"Доступ заборонено"}),o.jsx("p",{className:"text-muted-foreground",children:"У вас недостатньо прав для доступу до цієї сторінки."}),o.jsx("a",{href:"/",className:"inline-block text-primary hover:underline",children:"Повернутися на головну"})]})}):o.jsx(o.Fragment,{children:e})}function At({gtmId:e,ga4Id:t,gadsId:r}){return d.useEffect(()=>{const s=console.warn,n=console.error;if(console.warn=function(...a){var c;const l=((c=a[0])==null?void 0:c.toString())||"";l.includes("Third-party cookie")||l.includes("third-party cookie")||l.includes("cookie is blocked")||l.includes("cookie.*blocked")||l.includes("Third-party cookie is blocked")||s.apply(console,a)},console.error=function(...a){var c;const l=((c=a[0])==null?void 0:c.toString())||"";l.includes("Third-party cookie")||l.includes("third-party cookie")||l.includes("cookie is blocked")||n.apply(console,a)},e){const a=document.createElement("script");a.innerHTML=`
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','${e}');
      `,document.head.appendChild(a);const l=document.createElement("noscript"),c=document.createElement("iframe");c.src=`https://www.googletagmanager.com/ns.html?id=${e}`,c.height="0",c.width="0",c.style.display="none",c.style.visibility="hidden",l.appendChild(c),document.body.insertBefore(l,document.body.firstChild)}if(t){const a=document.createElement("script");a.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,a.async=!0,document.head.appendChild(a);const l=document.createElement("script");l.innerHTML=`
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '${t}', {
          page_path: window.location.pathname,
          send_page_view: false,
          cookie_flags: 'SameSite=Lax;Secure',
          cookie_domain: 'auto',
          cookie_update: true,
          cookie_expires: 63072000
        });
      `,document.head.appendChild(l),window.gtag=function(){window.dataLayer.push(arguments)}}if(r){const a=document.createElement("script");a.src=`https://www.googletagmanager.com/gtag/js?id=${r}`,a.async=!0,document.head.appendChild(a);const l=document.createElement("script");l.innerHTML=`
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '${r}', {
          cookie_flags: 'SameSite=Lax;Secure',
          cookie_domain: 'auto'
        });
      `,document.head.appendChild(l)}},[e,t,r]),null}function Ot({pixelId:e}){const t=te();return d.useEffect(()=>{if(e&&!t.pathname.startsWith("/admin")){if(!window.fbq){const r=function(...l){r.callMethod?r.callMethod(...l):r.queue.push(l)};window._fbq||(window._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],window.fbq=r;const s=document.createElement("script");s.async=!0,s.src="https://connect.facebook.net/en_US/fbevents.js",document.head.appendChild(s);const n=document.createElement("noscript"),a=document.createElement("img");a.height=1,a.width=1,a.style.display="none",a.src=`https://www.facebook.com/tr?id=${e}&ev=PageView&noscript=1`,n.appendChild(a),document.body.insertBefore(n,document.body.firstChild)}window.fbq("init",e),window.fbq("track","PageView")}},[e]),d.useEffect(()=>{!e||!window.fbq||t.pathname.startsWith("/admin")||window.fbq("track","PageView")},[t.pathname,e]),null}function kt(){const e=te(),{data:t}=Y({queryKey:["analytics-settings"],queryFn:async()=>{const s=await fetch("/api/analytics/settings");return s.ok?s.json():{}},staleTime:5*60*1e3});d.useEffect(()=>{if(!e.pathname.startsWith("/admin"))return M.init(),()=>{M.destroy()}},[]);const r=xe.useRef(!0);return d.useEffect(()=>{if(r.current){r.current=!1;return}e.pathname.startsWith("/admin")||M.trackPageView()},[e.pathname]),o.jsxs(o.Fragment,{children:[o.jsx(At,{gtmId:t==null?void 0:t.google_tag_manager_id,ga4Id:t==null?void 0:t.google_analytics_id,gadsId:t==null?void 0:t.google_ads_id}),o.jsx(Ot,{pixelId:t==null?void 0:t.facebook_pixel_id})]})}const Dt=d.lazy(()=>f(()=>import("./Index-D5EGdKvv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),jt=d.lazy(()=>f(()=>import("./Checkout-C8l-V2N5.js"),__vite__mapDeps([24,1,2,3,5,6,18,25,26,15,10,9,8,27,12]))),Ct=d.lazy(()=>f(()=>import("./ThankYou-OiR_pYHq.js"),__vite__mapDeps([28,1,2,3,12,5,6,9,10,27,14]))),Lt=d.lazy(()=>f(()=>import("./NotFound-JPs1s7QQ.js"),__vite__mapDeps([29,1,2,3,12]))),Nt=d.lazy(()=>f(()=>import("./Page-bhe9lHtv.js"),__vite__mapDeps([30,1,2,3,13,9,4,5,6,7,8,10,11,12,14]))),$t=d.lazy(()=>f(()=>import("./Login-DjARpIQr.js"),__vite__mapDeps([31,1,2,3,12,5,6,32,9]))),Ut=d.lazy(()=>f(()=>import("./AuthCallback-DEaxuWS4.js"),__vite__mapDeps([33,1,2,3,12,6,9]))),Rt=d.lazy(()=>f(()=>import("./AllReviews-kwIKHfG6.js"),__vite__mapDeps([34,1,2,3,9,12,4,5,6,7,8,10,11,13,14,18,19,35,36,20]))),Ft=d.lazy(()=>f(()=>import("./Profile-CX2pp2hW.js"),__vite__mapDeps([37,1,2,3,32,5,6,11,38,12,9]))),Vt=d.lazy(()=>f(()=>import("./UserOrders-DqxkNTD8.js"),__vite__mapDeps([39,1,2,3,9,32,5,6,40,12]))),Mt=d.lazy(()=>f(()=>import("./UserOrderDetail-CCLUo6ME.js"),__vite__mapDeps([41,1,2,3,5,6,40,18,32,9,12]))),qt=d.lazy(()=>f(()=>import("./UserMaterials-BYAE28wx.js"),__vite__mapDeps([42,1,2,3,32,5,6,40,10,9,14,12]))),Jt=d.lazy(()=>f(()=>import("./AdminLayout-5hSqi73h.js"),__vite__mapDeps([43,1,2,3,12,6,5,18,38,10,9])).then(e=>({default:e.AdminLayout}))),zt=d.lazy(()=>f(()=>import("./Dashboard-BizikS2P.js"),__vite__mapDeps([44,1,2,3,32,40,45,9,8,46,6,12])).then(e=>({default:e.Dashboard}))),Bt=d.lazy(()=>f(()=>import("./Orders-fIF0w01o.js"),__vite__mapDeps([47,1,2,3,5,6,18,32,40,35,45,9,12])).then(e=>({default:e.Orders}))),Ht=d.lazy(()=>f(()=>import("./OrderDetail-xrztXfek.js"),__vite__mapDeps([48,1,2,3,5,6,40,18,35,45,9,25,15,26,27,10,8,49,12])).then(e=>({default:e.OrderDetail}))),Kt=d.lazy(()=>f(()=>import("./Products-176xQ2bg.js"),__vite__mapDeps([50,1,2,3,5,6,18,32,40,49,25,19,51,7,8,9,12])).then(e=>({default:e.Products}))),Wt=d.lazy(()=>f(()=>import("./Settings-C5VDKh6z.js"),__vite__mapDeps([52,1,2,3,5,6,18,32,25,53,19,38,51,8,9,12])).then(e=>({default:e.Settings}))),Qt=d.lazy(()=>f(()=>import("./Comparison-Dma06m4a.js"),__vite__mapDeps([54,1,2,3,5,6,18,32,25,53,35,49,16,9,12])).then(e=>({default:e.Comparison}))),Zt=d.lazy(()=>f(()=>import("./Options-CUpAk_21.js"),__vite__mapDeps([55,1,2,3,5,6,18,32,49,25,19,9,12])).then(e=>({default:e.Options}))),Gt=d.lazy(()=>f(()=>import("./Materials-BtDYDnDb.js"),__vite__mapDeps([56,1,2,3,5,6,18,32,40,49,25,19,9,12])).then(e=>({default:e.Materials}))),Yt=d.lazy(()=>f(()=>import("./Galleries-BZ1MGVbP.js"),__vite__mapDeps([57,1,2,3,5,6,18,32,49,25,19,53,17,9,12])).then(e=>({default:e.Galleries}))),Xt=d.lazy(()=>f(()=>import("./Reviews-B7Swv69u.js"),__vite__mapDeps([58,1,2,3,36,5,6,18,32,40,35,49,25,19,53,9,12])).then(e=>({default:e.Reviews}))),er=d.lazy(()=>f(()=>import("./FAQ-ZwnaUHfL.js"),__vite__mapDeps([59,1,2,3,21,9,32,18,19,5,6,25,49,53,40,12])).then(e=>({default:e.FAQ}))),tr=d.lazy(()=>f(()=>import("./Team-B95cwGcZ.js"),__vite__mapDeps([60,1,2,3,5,6,18,32,49,25,19,53,23,9,12])).then(e=>({default:e.Team}))),rr=d.lazy(()=>f(()=>import("./Instagram-CSzLk6nD.js"),__vite__mapDeps([61,1,2,3,5,6,18,19,32,49,25,53,22,9,12])).then(e=>({default:e.Instagram}))),or=d.lazy(()=>f(()=>import("./Texts-BUaaNVHm.js"),__vite__mapDeps([62,1,2,3,8,9,32,18,19,5,6,25,51,49,12])).then(e=>({default:e.Texts}))),sr=d.lazy(()=>f(()=>import("./Pages-BjZAcWbQ.js"),__vite__mapDeps([63,1,2,3,13,9,32,18,5,6,40,12])).then(e=>({default:e.Pages}))),nr=d.lazy(()=>f(()=>import("./PageDetail-CY6S0R5f.js"),__vite__mapDeps([64,1,2,3,5,6,18,19,25,53,32,40,13,9,65,12])).then(e=>({default:e.PageDetail}))),ar=d.lazy(()=>f(()=>import("./EmailTemplates-CLQ6OQsg.js"),__vite__mapDeps([66,1,2,3,5,6,18,32,25,19,53,9,12])).then(e=>({default:e.EmailTemplates}))),ir=d.lazy(()=>f(()=>import("./Analytics-DxCqq_5I.js"),__vite__mapDeps([67,1,2,3,9,32,40,5,6,18,25,12])).then(e=>({default:e.Analytics}))),cr=d.lazy(()=>f(()=>import("./SocialProof-my0ZzZj5.js"),__vite__mapDeps([68,1,2,3,9,32,5,6,18,25,53,19,51,40,12])).then(e=>({default:e.SocialProof}))),dr=new Re,lr=()=>o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),ur=()=>o.jsx(Ue,{children:o.jsx(Fe,{client:dr,children:o.jsx(Pt,{children:o.jsx(Et,{children:o.jsxs(ot,{children:[o.jsx(tt,{}),o.jsx(rt,{}),o.jsxs(Me,{children:[o.jsx(kt,{}),o.jsx(d.Suspense,{fallback:o.jsx(lr,{}),children:o.jsxs(qe,{children:[o.jsx(g,{path:"/",element:o.jsx(Dt,{})}),o.jsx(g,{path:"/reviews",element:o.jsx(Rt,{})}),o.jsx(g,{path:"/checkout",element:o.jsx(jt,{})}),o.jsx(g,{path:"/thank-you",element:o.jsx(Ct,{})}),o.jsx(g,{path:"/login",element:o.jsx($t,{})}),o.jsx(g,{path:"/auth/callback",element:o.jsx(Ut,{})}),o.jsx(g,{path:"/user/profile",element:o.jsx(F,{children:o.jsx(Ft,{})})}),o.jsx(g,{path:"/user/orders",element:o.jsx(F,{children:o.jsx(Vt,{})})}),o.jsx(g,{path:"/user/orders/:id",element:o.jsx(F,{children:o.jsx(Mt,{})})}),o.jsx(g,{path:"/user/materials",element:o.jsx(F,{children:o.jsx(qt,{})})}),o.jsxs(g,{path:"/admin",element:o.jsx(F,{requireAdmin:!0,children:o.jsx(Jt,{})}),children:[o.jsx(g,{index:!0,element:o.jsx(zt,{})}),o.jsx(g,{path:"orders",element:o.jsx(Bt,{})}),o.jsx(g,{path:"orders/:id",element:o.jsx(Ht,{})}),o.jsx(g,{path:"products",element:o.jsx(Kt,{})}),o.jsx(g,{path:"options",element:o.jsx(Zt,{})}),o.jsx(g,{path:"materials",element:o.jsx(Gt,{})}),o.jsx(g,{path:"galleries",element:o.jsx(Yt,{})}),o.jsx(g,{path:"reviews",element:o.jsx(Xt,{})}),o.jsx(g,{path:"faq",element:o.jsx(er,{})}),o.jsx(g,{path:"team",element:o.jsx(tr,{})}),o.jsx(g,{path:"instagram",element:o.jsx(rr,{})}),o.jsx(g,{path:"texts",element:o.jsx(or,{})}),o.jsx(g,{path:"pages",element:o.jsx(sr,{})}),o.jsx(g,{path:"pages/:id",element:o.jsx(nr,{})}),o.jsx(g,{path:"email-templates",element:o.jsx(ar,{})}),o.jsx(g,{path:"analytics/*",element:o.jsx(ir,{})}),o.jsx(g,{path:"social-proof/*",element:o.jsx(cr,{})}),o.jsx(g,{path:"settings",element:o.jsx(Wt,{})}),o.jsx(g,{path:"comparison",element:o.jsx(Qt,{})})]}),o.jsx(g,{path:"/:slug",element:o.jsx(Nt,{})}),o.jsx(g,{path:"*",element:o.jsx(Lt,{})})]})})]})]})})})})});Ee(document.getElementById("root")).render(o.jsx(ur,{}));export{Ar as A,at as B,it as C,Or as D,ft as E,gt as F,lt as G,mt as H,pt as I,dt as J,Tt as K,i as L,Pr as M,ot as T,f as _,Sr as a,xt as b,L as c,_t as d,Qe as e,Ze as f,vr as g,bt as h,z as i,St as j,_r as k,M as l,Ir as m,Tr as n,ct as o,vt as p,xr as q,ut as r,Er as s,Z as t,Dr as u,st as v,ht as w,yt as x,re as y,br as z};
