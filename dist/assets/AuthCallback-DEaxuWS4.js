import{r as l,j as s}from"./chunk-react-CHUe_c_M.js";import{c as m,b as u}from"./chunk-router-BMV24Bow.js";import{h as d}from"./index-Dv87KhRC.js";import{a8 as h}from"./chunk-vendor-C_GYGcpd.js";import"./chunk-lottie-DoMt_38f.js";import"./chunk-radix-BYx9rzOz.js";import"./chunk-query-BDB5idE8.js";function N(){const[r]=m(),e=u(),{login:a}=d();return l.useEffect(()=>{(async()=>{try{const t=r.get("access_token"),c=r.get("refresh_token"),n=r.get("user"),o=r.get("error");if(o){console.error("[Auth Callback] Error:",o),e("/login?error="+o);return}if(t&&c&&n){const i=JSON.parse(decodeURIComponent(n));a(t,c,i),i.role,e("/")}else e("/login?error=missing_data")}catch(t){console.error("[Auth Callback] Processing error:",t),e("/login?error=processing_failed")}})()},[r,e,a]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(h,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),s.jsx("h2",{className:"text-2xl font-semibold",children:"Авторизація..."}),s.jsx("p",{className:"text-muted-foreground",children:"Зачекайте, будь ласка"})]})})}export{N as default};
