-- Добавление промокодов в настройки
-- Формат: JSON объект с ключами - коды промокодов (нижний регистр)
-- Значения: объект с discount (процент скидки) и products (массив кодов товаров, для которых действует промокод, или пустой массив для всех товаров)

INSERT INTO settings (key_name, value, type, description) 
VALUES ('promo_codes', '{"skidka1": {"discount": 1.5, "products": []}}', 'json', 'Промокоды: ключ - код промокода (нижний регистр), значение - объект с discount (процент скидки) и products (массив кодов товаров, пустой массив для всех товаров)')
ON DUPLICATE KEY UPDATE 
  value = '{"skidka1": {"discount": 1.5, "products": []}}',
  type = 'json',
  description = 'Промокоды: ключ - код промокода (нижний регистр), значение - объект с discount (процент скидки) и products (массив кодов товаров, пустой массив для всех товаров)';

